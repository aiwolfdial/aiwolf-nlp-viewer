var Le=Object.defineProperty;var me=t=>{throw TypeError(t)};var Ve=(t,e,r)=>e in t?Le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var b=(t,e,r)=>Ve(t,typeof e!="symbol"?e+"":e,r),ye=(t,e,r)=>e.has(t)||me("Cannot "+r);var a=(t,e,r)=>(ye(t,e,"read from private field"),r?r.call(t):e.get(t)),g=(t,e,r)=>e.has(t)?me("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),v=(t,e,r,s)=>(ye(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{t as Ke,a as Se}from"../chunks/C96Obp6N.js";import{p as Ge,h as Ye,ap as je,s as m,c as u,t as we,a as ze,$ as qe,r as h}from"../chunks/BP9y4yKp.js";import{d as Fe,h as Xe,s as A}from"../chunks/DZNU9N6A.js";import{i as Ze}from"../chunks/C4IGXha7.js";import{L as Qe,a as F,s as be,r as Ee}from"../chunks/DlJVdtuQ.js";import{s as ge}from"../chunks/Z3TIC2Rx.js";import{b as ve}from"../chunks/DBOqFBuJ.js";import{b as ke}from"../chunks/CVPPP8ft.js";import{s as et,a as tt}from"../chunks/BS1SHRbe.js";import{$ as rt}from"../chunks/Cj9fvRom.js";const O=new TextEncoder,X=new TextDecoder;function st(...t){const e=t.reduce((n,{length:i})=>n+i,0),r=new Uint8Array(e);let s=0;for(const n of t)r.set(n,s),s+=n.length;return r}function nt(t){if(Uint8Array.prototype.toBase64)return t.toBase64();const e=32768,r=[];for(let s=0;s<t.length;s+=e)r.push(String.fromCharCode.apply(null,t.subarray(s,s+e)));return btoa(r.join(""))}function it(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),r=new Uint8Array(e.length);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return r}function at(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:X.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=X.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return it(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function oe(t){let e=t;return typeof e=="string"&&(e=O.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):nt(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class Z extends Error{constructor(r,s){var n;super(r,s);b(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}b(Z,"code","ERR_JOSE_GENERIC");class x extends Z{constructor(){super(...arguments);b(this,"code","ERR_JOSE_NOT_SUPPORTED")}}b(x,"code","ERR_JOSE_NOT_SUPPORTED");class $ extends Z{constructor(){super(...arguments);b(this,"code","ERR_JWS_INVALID")}}b($,"code","ERR_JWS_INVALID");class Ce extends Z{constructor(){super(...arguments);b(this,"code","ERR_JWT_INVALID")}}b(Ce,"code","ERR_JWT_INVALID");function E(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function M(t,e){return t.name===e}function ce(t){return parseInt(t.name.slice(4),10)}function ot(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function ct(t,e){if(!t.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function ut(t,e,r){switch(e){case"HS256":case"HS384":case"HS512":{if(!M(t.algorithm,"HMAC"))throw E("HMAC");const s=parseInt(e.slice(2),10);if(ce(t.algorithm.hash)!==s)throw E(`SHA-${s}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!M(t.algorithm,"RSASSA-PKCS1-v1_5"))throw E("RSASSA-PKCS1-v1_5");const s=parseInt(e.slice(2),10);if(ce(t.algorithm.hash)!==s)throw E(`SHA-${s}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!M(t.algorithm,"RSA-PSS"))throw E("RSA-PSS");const s=parseInt(e.slice(2),10);if(ce(t.algorithm.hash)!==s)throw E(`SHA-${s}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!M(t.algorithm,"Ed25519"))throw E("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!M(t.algorithm,"ECDSA"))throw E("ECDSA");const s=ot(e);if(t.algorithm.namedCurve!==s)throw E(s,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}ct(t,r)}function Pe(t,e,...r){var s;if(r=r.filter(Boolean),r.length>2){const n=r.pop();t+=`one of type ${r.join(", ")}, or ${n}.`}else r.length===2?t+=`one of type ${r[0]} or ${r[1]}.`:t+=`of type ${r[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(s=e.constructor)!=null&&s.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const ht=(t,...e)=>Pe("Key must be ",t,...e);function _e(t,e,...r){return Pe(`Key for the ${t} algorithm must be `,e,...r)}function Te(t){return(t==null?void 0:t[Symbol.toStringTag])==="CryptoKey"}function Re(t){return(t==null?void 0:t[Symbol.toStringTag])==="KeyObject"}const We=t=>Te(t)||Re(t),dt=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let r;for(const s of e){const n=Object.keys(s);if(!r||r.size===0){r=new Set(n);continue}for(const i of n){if(r.has(i))return!1;r.add(i)}}return!0};function ft(t){return typeof t=="object"&&t!==null}const xe=t=>{if(!ft(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},lt=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:r}=e.algorithm;if(typeof r!="number"||r<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function pt(t){let e,r;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},r=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},r=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},r=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},r=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},r=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},r=t.d?["deriveBits"]:[];break;default:throw new x('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new x('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:r}}const mt=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:r}=pt(t),s={...t};return delete s.alg,delete s.use,crypto.subtle.importKey("jwk",s,e,t.ext??!t.d,t.key_ops??r)},yt=(t,e,r,s,n)=>{if(n.crit!==void 0&&(s==null?void 0:s.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!s||s.crit===void 0)return new Set;if(!Array.isArray(s.crit)||s.crit.length===0||s.crit.some(c=>typeof c!="string"||c.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;r!==void 0?i=new Map([...Object.entries(r),...e.entries()]):i=e;for(const c of s.crit){if(!i.has(c))throw new x(`Extension Header Parameter "${c}" is not recognized`);if(n[c]===void 0)throw new t(`Extension Header Parameter "${c}" is missing`);if(i.get(c)&&s[c]===void 0)throw new t(`Extension Header Parameter "${c}" MUST be integrity protected`)}return new Set(s.crit)};function de(t){return xe(t)&&typeof t.kty=="string"}function St(t){return t.kty!=="oct"&&typeof t.d=="string"}function wt(t){return t.kty!=="oct"&&typeof t.d>"u"}function bt(t){return t.kty==="oct"&&typeof t.k=="string"}let J;const Ae=async(t,e,r,s=!1)=>{J||(J=new WeakMap);let n=J.get(t);if(n!=null&&n[r])return n[r];const i=await mt({...e,alg:r});return s&&Object.freeze(t),n?n[r]=i:J.set(t,{[r]:i}),i},Et=(t,e)=>{var c;J||(J=new WeakMap);let r=J.get(t);if(r!=null&&r[e])return r[e];const s=t.type==="public",n=!!s;let i;if(t.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}i=t.toCryptoKey(t.asymmetricKeyType,n,s?[]:["deriveBits"])}if(t.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");i=t.toCryptoKey(t.asymmetricKeyType,n,[s?"verify":"sign"])}if(t.asymmetricKeyType==="rsa"){let d;switch(e){case"RSA-OAEP":d="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":d="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":d="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":d="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return t.toCryptoKey({name:"RSA-OAEP",hash:d},n,s?["encrypt"]:["decrypt"]);i=t.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:d},n,[s?"verify":"sign"])}if(t.asymmetricKeyType==="ec"){const f=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((c=t.asymmetricKeyDetails)==null?void 0:c.namedCurve);if(!f)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&f==="P-256"&&(i=t.toCryptoKey({name:"ECDSA",namedCurve:f},n,[s?"verify":"sign"])),e==="ES384"&&f==="P-384"&&(i=t.toCryptoKey({name:"ECDSA",namedCurve:f},n,[s?"verify":"sign"])),e==="ES512"&&f==="P-521"&&(i=t.toCryptoKey({name:"ECDSA",namedCurve:f},n,[s?"verify":"sign"])),e.startsWith("ECDH-ES")&&(i=t.toCryptoKey({name:"ECDH",namedCurve:f},n,s?[]:["deriveBits"]))}if(!i)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return r?r[e]=i:J.set(t,{[e]:i}),i},gt=async(t,e)=>{if(t instanceof Uint8Array||Te(t))return t;if(Re(t)){if(t.type==="secret")return t.export();if("toCryptoKey"in t&&typeof t.toCryptoKey=="function")try{return Et(t,e)}catch(s){if(s instanceof TypeError)throw s}let r=t.export({format:"jwk"});return Ae(t,r,e)}if(de(t))return t.k?at(t.k):Ae(t,t,e,!0);throw new Error("unreachable")},D=t=>t==null?void 0:t[Symbol.toStringTag],he=(t,e,r)=>{var s,n;if(e.use!==void 0){let i;switch(r){case"sign":case"verify":i="sig";break;case"encrypt":case"decrypt":i="enc";break}if(e.use!==i)throw new TypeError(`Invalid key for this operation, its "use" must be "${i}" when present`)}if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, its "alg" must be "${t}" when present`);if(Array.isArray(e.key_ops)){let i;switch(!0){case r==="sign":case t==="dir":case t.includes("CBC-HS"):i=r;break;case t.startsWith("PBES2"):i="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(t):!t.includes("GCM")&&t.endsWith("KW")?i="unwrapKey":i=r;break;case r==="encrypt":i="wrapKey";break;case r==="decrypt":i=t.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(i&&((n=(s=e.key_ops)==null?void 0:s.includes)==null?void 0:n.call(s,i))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${i}" when present`)}return!0},vt=(t,e,r)=>{if(!(e instanceof Uint8Array)){if(de(e)){if(bt(e)&&he(t,e,r))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!We(e))throw new TypeError(_e(t,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${D(e)} instances for symmetric algorithms must be of type "secret"`)}},At=(t,e,r)=>{if(de(e))switch(r){case"decrypt":case"sign":if(St(e)&&he(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(wt(e)&&he(t,e,r))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!We(e))throw new TypeError(_e(t,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${D(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(r){case"sign":throw new TypeError(`${D(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${D(e)} instances for asymmetric algorithm decryption must be of type "private"`)}if(e.type==="private")switch(r){case"verify":throw new TypeError(`${D(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${D(e)} instances for asymmetric algorithm encryption must be of type "public"`)}},Kt=(t,e,r)=>{t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(t)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(t)?vt(t,e,r):At(t,e,r)},Ct=(t,e)=>{const r=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(t.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:e.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new x(`alg ${t} is not supported either by JOSE or your javascript runtime`)}},Pt=async(t,e,r)=>{if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(ht(e,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[r])}return ut(e,t,r),e},R=t=>Math.floor(t.getTime()/1e3),He=60,$e=He*60,fe=$e*24,_t=fe*7,Tt=fe*365.25,Rt=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,ue=t=>{const e=Rt.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const r=parseFloat(e[2]),s=e[3].toLowerCase();let n;switch(s){case"sec":case"secs":case"second":case"seconds":case"s":n=Math.round(r);break;case"minute":case"minutes":case"min":case"mins":case"m":n=Math.round(r*He);break;case"hour":case"hours":case"hr":case"hrs":case"h":n=Math.round(r*$e);break;case"day":case"days":case"d":n=Math.round(r*fe);break;case"week":case"weeks":case"w":n=Math.round(r*_t);break;default:n=Math.round(r*Tt);break}return e[1]==="-"||e[4]==="ago"?-n:n};function W(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}var o;class Wt{constructor(e){g(this,o);if(!xe(e))throw new TypeError("JWT Claims Set MUST be an object");v(this,o,structuredClone(e))}data(){return O.encode(JSON.stringify(a(this,o)))}get iss(){return a(this,o).iss}set iss(e){a(this,o).iss=e}get sub(){return a(this,o).sub}set sub(e){a(this,o).sub=e}get aud(){return a(this,o).aud}set aud(e){a(this,o).aud=e}set jti(e){a(this,o).jti=e}set nbf(e){typeof e=="number"?a(this,o).nbf=W("setNotBefore",e):e instanceof Date?a(this,o).nbf=W("setNotBefore",R(e)):a(this,o).nbf=R(new Date)+ue(e)}set exp(e){typeof e=="number"?a(this,o).exp=W("setExpirationTime",e):e instanceof Date?a(this,o).exp=W("setExpirationTime",R(e)):a(this,o).exp=R(new Date)+ue(e)}set iat(e){typeof e>"u"?a(this,o).iat=R(new Date):e instanceof Date?a(this,o).iat=W("setIssuedAt",R(e)):typeof e=="string"?a(this,o).iat=W("setIssuedAt",R(new Date)+ue(e)):a(this,o).iat=W("setIssuedAt",e)}}o=new WeakMap;const xt=async(t,e,r)=>{const s=await Pt(t,e,"sign");lt(t,s);const n=await crypto.subtle.sign(Ct(t,s.algorithm),s,r);return new Uint8Array(n)};var N,p,S;class Ht{constructor(e){g(this,N);g(this,p);g(this,S);if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");v(this,N,e)}setProtectedHeader(e){if(a(this,p))throw new TypeError("setProtectedHeader can only be called once");return v(this,p,e),this}setUnprotectedHeader(e){if(a(this,S))throw new TypeError("setUnprotectedHeader can only be called once");return v(this,S,e),this}async sign(e,r){if(!a(this,p)&&!a(this,S))throw new $("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!dt(a(this,p),a(this,S)))throw new $("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const s={...a(this,p),...a(this,S)},n=yt($,new Map([["b64",!0]]),r==null?void 0:r.crit,a(this,p),s);let i=!0;if(n.has("b64")&&(i=a(this,p).b64,typeof i!="boolean"))throw new $('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=s;if(typeof c!="string"||!c)throw new $('JWS "alg" (Algorithm) Header Parameter missing or invalid');Kt(c,e,"sign");let d=a(this,N);i&&(d=O.encode(oe(d)));let f;a(this,p)?f=O.encode(oe(JSON.stringify(a(this,p)))):f=O.encode("");const L=st(f,O.encode("."),d),U=await gt(e,c),Q=await xt(c,U,L),C={signature:oe(Q),payload:""};return i&&(C.payload=X.decode(d)),a(this,S)&&(C.header=a(this,S)),a(this,p)&&(C.protected=X.decode(f)),C}}N=new WeakMap,p=new WeakMap,S=new WeakMap;var I;class $t{constructor(e){g(this,I);v(this,I,new Ht(e))}setProtectedHeader(e){return a(this,I).setProtectedHeader(e),this}async sign(e,r){const s=await a(this,I).sign(e,r);if(s.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${s.protected}.${s.payload}.${s.signature}`}}I=new WeakMap;var K,y;class Dt{constructor(e={}){g(this,K);g(this,y);v(this,y,new Wt(e))}setIssuer(e){return a(this,y).iss=e,this}setSubject(e){return a(this,y).sub=e,this}setAudience(e){return a(this,y).aud=e,this}setJti(e){return a(this,y).jti=e,this}setNotBefore(e){return a(this,y).nbf=e,this}setExpirationTime(e){return a(this,y).exp=e,this}setIssuedAt(e){return a(this,y).iat=e,this}setProtectedHeader(e){return v(this,K,e),this}async sign(e,r){var n;const s=new $t(a(this,y).data());if(s.setProtectedHeader(a(this,K)),Array.isArray((n=a(this,K))==null?void 0:n.crit)&&a(this,K).crit.includes("b64")&&a(this,K).b64===!1)throw new Ce("JWTs MUST NOT use unencoded payload");return s.sign(e,r)}}K=new WeakMap,y=new WeakMap;function Ot(t,e){let r=new Uint8Array(32);crypto.getRandomValues(r),e.secret=btoa(String.fromCharCode(...r))}var Jt=(t,e)=>navigator.clipboard.writeText(e.token),It=Ke('<div class="w-md card bg-base-100 shadow-xl mt-4"><div class="card-body"><pre class="whitespace-pre-wrap break-all"> </pre> <button class="btn"> </button></div></div>'),Ut=Ke('<main><div class="hero bg-base-200 min-h-screen"><div class="hero-content"><div class="absolute top-4 right-4"><!></div> <div><div class="w-md card bg-base-100 shadow-xl"><div class="card-body"><h2 class="text-xl font-bold text-center"> </h2> <p class="text-sm"> </p> <p class="text-sm"> </p> <button class="btn mt-2"> </button> <label class="input w-full mt-2 block"><iconify-icon></iconify-icon> <input type="text" class="grow"></label> <select class="select w-full mt-2"><option> </option><option> </option></select> <label class="input w-full mt-2 block"><iconify-icon></iconify-icon> <input type="text" class="grow"></label></div></div> <!></div></div></div></main>',2);function Xt(t,e){Ge(e,!0);const[r,s]=et(),n=()=>tt(rt,"$_",r);let i=Ye({secret:"",role:"PLAYER",team:"",token:""});je(()=>{c(i.secret,i.role,i.team)});async function c(l,w,P){if(!l||!w){i.token="";return}if(w==="PLAYER"&&!P){i.token="";return}const _=w==="PLAYER"?{role:"PLAYER",team:P}:{role:"RECEIVER"};try{const H=new TextEncoder().encode(l),T=await new Dt(_).setProtectedHeader({alg:"HS256"}).sign(H);i.token=T}catch{i.token=n()("token.errorOccurred")}}var d=Ut();Xe(l=>{qe.title="aiwolf-nlp-viewer"});var f=u(d),L=u(f),U=u(L),Q=u(U);Qe(Q,{}),h(U);var C=m(U,2),k=u(C),le=u(k),ee=u(le),De=u(ee,!0);h(ee);var te=m(ee,2),Oe=u(te,!0);h(te);var re=m(te,2),Je=u(re,!0);h(re);var V=m(re,2);V.__click=[Ot,i];var Ie=u(V,!0);h(V);var se=m(V,2),G=u(se);ge(G,1,"h-[1em] opacity-50"),F(G,"inline",!0),F(G,"icon","mdi:key");var ne=m(G,2);Ee(ne),h(se);var Y=m(se,2),B=u(Y);B.value=B.__value="PLAYER";var Ue=u(B,!0);h(B);var j=m(B);j.value=j.__value="RECEIVER";var Be=u(j,!0);h(j),h(Y);var pe=m(Y,2),z=u(pe);ge(z,1,"h-[1em] opacity-50"),F(z,"inline",!0),F(z,"icon","mdi:form-textbox");var q=m(z,2);Ee(q),h(pe),h(le),h(k);var Me=m(k,2);{var Ne=l=>{var w=It(),P=u(w),_=u(P),H=u(_,!0);h(_);var T=m(_,2);T.__click=[Jt,i];var ie=u(T,!0);h(T),h(P),h(w),we(ae=>{A(H,i.token),A(ie,ae)},[()=>n()("token.copyToken")]),Se(l,w)};Ze(Me,l=>{i.token&&l(Ne)})}h(C),h(L),h(f),h(d),we((l,w,P,_,H,T,ie,ae)=>{A(De,l),A(Oe,w),A(Je,P),A(Ie,_),be(ne,"placeholder",H),A(Ue,T),A(Be,ie),be(q,"placeholder",ae),q.disabled=i.role!=="PLAYER"},[()=>n()("token.title"),()=>n()("token.description"),()=>n()("token.agentDescription"),()=>n()("token.generateSecret"),()=>n()("token.secretKey"),()=>n()("token.agent"),()=>n()("token.realtimeLog"),()=>n()("token.teamName")]),ve(ne,()=>i.secret,l=>i.secret=l),ke(Y,()=>i.role,l=>i.role=l),ve(q,()=>i.team,l=>i.team=l),Se(t,d),ze(),s()}Fe(["click"]);export{Xt as component};
