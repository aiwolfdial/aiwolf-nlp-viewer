var at=Object.defineProperty;var rt=(t,e,l)=>e in t?at(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var qe=(t,e,l)=>rt(t,typeof e!="symbol"?e+"":e,l);import{t as _,a as c,c as oe}from"../chunks/D6xU7Ia-.js";import{e as Fe,u as nt,p as Te,h as be,aG as he,c as r,g as h,r as a,a as Oe,f as F,s as n,aI as ve,t as K,y as Ce,$ as it}from"../chunks/D71tB1-8.js";import{h as st}from"../chunks/C80A9f_5.js";import{i as N}from"../chunks/XVGiJ86u.js";import{p as ke}from"../chunks/Dh106H1m.js";import{a as $e,s as ce,b as Ve}from"../chunks/Bed5y4Kk.js";import{p as ot}from"../chunks/cyh1r80c.js";import{w as se}from"../chunks/Bd_Kett6.js";import{o as Le,a as De}from"../chunks/BJiA8Uac.js";/* empty css                */import{d as et,s as m}from"../chunks/CmmD0BWm.js";import{e as de,i as fe}from"../chunks/DtvBwiBb.js";import{r as ye,s as re,a as ue,c as Re,d as We}from"../chunks/BQxvY0yg.js";import{b as Ge}from"../chunks/Cd34S69s.js";import{b as Je}from"../chunks/EZdGMfFB.js";import{b as Ye}from"../chunks/BBlvtWkN.js";function Ze(t,e,l){Fe(()=>{var k=nt(()=>e(t,l==null?void 0:l())||{});if(k!=null&&k.destroy)return()=>k.destroy()})}class Ke{static fromJson(e){return vt(JSON.parse(e),He("AgentSettings"))}static toJson(e){return JSON.stringify(ut(e,He("AgentSettings")),null,2)}}function xe(t,e,l,k=""){const Y=Pe(t),ee=k?` on ${k}`:"",Q=l?` for key "${l}"`:"";throw Error(`Invalid value${Q}${ee}. Expected ${Y} but got ${JSON.stringify(e)}`)}function Pe(t){return Array.isArray(t)?t.length===2&&t[0]===void 0?`an optional ${Pe(t[1])}`:`one of [${t.map(e=>Pe(e)).join(", ")}]`:typeof t=="object"&&t.literal!==void 0?t.literal:typeof t}function lt(t){if(t.jsonToJS===void 0){const e={};t.props.forEach(l=>e[l.json]={key:l.js,typ:l.typ}),t.jsonToJS=e}return t.jsonToJS}function ct(t){if(t.jsToJSON===void 0){const e={};t.props.forEach(l=>e[l.js]={key:l.json,typ:l.typ}),t.jsToJSON=e}return t.jsToJSON}function Ie(t,e,l,k="",Y=""){function ee(u,D){return typeof u==typeof D?D:xe(u,D,k,Y)}function Q(u,D){const A=u.length;for(let f=0;f<A;f++){const I=u[f];try{return Ie(D,I,l)}catch{}}return xe(u,D,k,Y)}function te(u,D){return u.indexOf(D)!==-1?D:xe(u.map(A=>je(A)),D,k,Y)}function E(u,D){return Array.isArray(D)?D.map(A=>Ie(A,u,l)):xe(je("array"),D,k,Y)}function b(u){if(u===null)return null;const D=new Date(u);return isNaN(D.valueOf())?xe(je("Date"),u,k,Y):D}function T(u,D,A){if(A===null||typeof A!="object"||Array.isArray(A))return xe(je(Z||"object"),A,k,Y);const f={};return Object.getOwnPropertyNames(u).forEach(I=>{const R=u[I],W=Object.prototype.hasOwnProperty.call(A,I)?A[I]:void 0;f[R.key]=Ie(W,R.typ,l,I,Z)}),Object.getOwnPropertyNames(A).forEach(I=>{Object.prototype.hasOwnProperty.call(u,I)||(f[I]=Ie(A[I],D,l,I,Z))}),f}if(e==="any")return t;if(e===null)return t===null?t:xe(e,t,k,Y);if(e===!1)return xe(e,t,k,Y);let Z;for(;typeof e=="object"&&e.ref!==void 0;)Z=e.ref,e=dt[e.ref];return Array.isArray(e)?te(e,t):typeof e=="object"?e.hasOwnProperty("unionMembers")?Q(e.unionMembers,t):e.hasOwnProperty("arrayItems")?E(e.arrayItems,t):e.hasOwnProperty("props")?T(l(e),e.additional,t):xe(e,t,k,Y):e===Date&&typeof t!="number"?b(t):ee(e,t)}function vt(t,e){return Ie(t,e,lt)}function ut(t,e){return Ie(t,e,ct)}function je(t){return{literal:t}}function Ue(t,e){return{props:t,additional:e}}function He(t){return{ref:t}}const dt={AgentSettings:Ue([{json:"connection",js:"connection",typ:He("Connection")},{json:"team",js:"team",typ:""},{json:"display",js:"display",typ:He("Display")}],!1),Connection:Ue([{json:"url",js:"url",typ:""},{json:"token",js:"token",typ:""}],!1),Display:Ue([{json:"largeScale",js:"largeScale",typ:!0}],!1)},Be={connection:{url:"ws://localhost:8080/ws",token:""},team:"aiwolf-nlp-viewer",display:{largeScale:!1}};function ft(){const t=localStorage.getItem("agent-settings");if(t)try{return Ke.fromJson(t)}catch(e){console.error(e)}return localStorage.setItem("agent-settings",Ke.toJson(Be)),Be}const me=se(ft());me.subscribe(t=>{localStorage.setItem("agent-settings",Ke.toJson(t))});var $=(t=>(t.NAME="NAME",t.TALK="TALK",t.WHISPER="WHISPER",t.VOTE="VOTE",t.DIVINE="DIVINE",t.GUARD="GUARD",t.ATTACK="ATTACK",t.INITIALIZE="INITIALIZE",t.DAILY_INITIALIZE="DAILY_INITIALIZE",t.DAILY_FINISH="DAILY_FINISH",t.FINISH="FINISH",t))($||{});const Se={NAME:"名前",TALK:"トーク",WHISPER:"囁き",VOTE:"投票",DIVINE:"占い",GUARD:"護衛",ATTACK:"襲撃",INITIALIZE:"ゲーム開始",DAILY_INITIALIZE:"昼開始",DAILY_FINISH:"昼終了",FINISH:"ゲーム終了"};var Ne=(t=>(t.HUMAN="HUMAN",t.WEREWOLF="WEREWOLF",t))(Ne||{});const pe={HUMAN:"人間",WEREWOLF:"人狼"};var Ae=(t=>(t.ALIVE="ALIVE",t.DEAD="DEAD",t))(Ae||{});const Me={ALIVE:"生存",DEAD:"死亡"};var tt=(t=>(t.WEREWOLF="WEREWOLF",t.POSSESSED="POSSESSED",t.SEER="SEER",t.BODYGUARD="BODYGUARD",t.VILLAGER="VILLAGER",t.MEDIUM="MEDIUM",t))(tt||{});const we={WEREWOLF:"人狼",POSSESSED:"狂人",SEER:"占い師",BODYGUARD:"騎士",VILLAGER:"村人",MEDIUM:"霊媒師"};function _t(){const{subscribe:t,update:e}=se({status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[],executedAgents:[],attackedAgents:[]});let l=null,k=null,Y=null,ee=null;me.subscribe(b=>{k=b});function Q(){l&&(l.close(),l=null,e(b=>({...b,status:"disconnected"}))),ee&&(ee.clear(),ee=null)}function te(){if(!k)return;l&&e(T=>({...T,status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[],executedAgents:[],attackedAgents:[]})),e(T=>({...T,status:"connecting"}));const b=new URL(k.connection.url);k.connection.token&&b.searchParams.set("token",k.connection.token),l=new WebSocket(b),l.onopen=()=>{e(T=>({...T,status:"connected"}))},l.onclose=()=>{Q()},l.onerror=()=>{Q()},l.onmessage=T=>{try{const Z=Date.now(),u=JSON.parse(T.data);switch(e(D=>{const A=D.entries.slice();A.push(u);const f={...D,entries:A,request:u.request};if(u.info){if(f.info=u.info,u.info.medium_result){const I=u.info.medium_result;f.mediumResults.findIndex(R=>R.day===I.day&&R.agent===I.agent)<0&&f.mediumResults.push(u.info.medium_result)}if(u.info.divine_result){const I=u.info.divine_result;f.divineResults.findIndex(R=>R.day===I.day&&R.agent===I.agent)<0&&f.divineResults.push(u.info.divine_result)}u.info.executed_agent&&f.executedAgents.push(u.info.executed_agent),u.info.attacked_agent&&f.attackedAgents.push(u.info.attacked_agent)}return u.setting&&(f.setting=u.setting,Y=u.setting.timeout.action),u.talkHistory&&f.talkHistory.push(...u.talkHistory),u.whisperHistory&&f.whisperHistory.push(...u.whisperHistory),u.request===$.INITIALIZE&&f.info&&f.info.role_map&&f.info.agent&&(f.role=f.info.role_map[f.info.agent]),f}),u.request){case $.NAME:E((k==null?void 0:k.team)||"viewer"+Math.floor(Math.random()*1e3));break;case $.TALK:case $.WHISPER:case $.VOTE:case $.DIVINE:case $.GUARD:case $.ATTACK:ee&&ee.clear(),ee=new gt(()=>{E("TIMEOUT")},new Date(Z+(Y??6e4))),e(D=>({...D,deadline:(ee==null?void 0:ee.deadline())??null}));break;case $.FINISH:Q();break}}catch(Z){console.error("Failed to parse message:",Z)}}}function E(b){if(ee&&(ee.clear(),ee=null,e(T=>({...T,deadline:null}))),l&&l.readyState===WebSocket.OPEN)try{l.send(b),e(T=>{const Z=T.entries.slice();return Z.push(b),{...T,entries:Z}})}catch(T){console.error("Failed to send message:",T)}}return{subscribe:t,connect:te,disconnect:Q,send:E}}const Ee=_t();class gt{constructor(e,l){qe(this,"timeout");qe(this,"_deadline");this.timeout=setTimeout(e,l.getTime()-new Date().getTime()),this._deadline=l}deadline(){return this._deadline}clear(){clearTimeout(this.timeout)}}function ze(t,e,l,k){t.key==="Enter"&&(t.preventDefault(),(t.ctrlKey||t.metaKey)&&e.onSendMessage(l()))}var mt=_('<span aria-live="polite"> </span>m',1),xt=_('<span class="bg-primary text-primary-content w-full py-2 text-3xl font-bold text-nowrap text-center"> </span>'),bt=_('<span class="bg-primary text-primary-content w-full py-2 text-3xl font-bold text-nowrap text-center"> </span>'),pt=(t,e,l)=>e(l()),yt=_('<button class="btn btn-xl"> </button>'),ht=(t,e)=>e("Skip"),kt=_('<button class="btn btn-xl" aria-label="Skip"><iconify-icon></iconify-icon> SKIP</button>',2),At=(t,e)=>e("Over"),wt=_('<!> <button class="btn btn-xl" aria-label="Over"><iconify-icon></iconify-icon> OVER</button>',3),It=_("<option></option>"),St=_("<option></option>"),Et=_("<!> <option></option>",1),Tt=(t,e,l,k)=>e.onSendMessage(l()),Ot=_('<div class="flex gap-2 items-center px-4 pt-4 pb-4 overflow-x-auto"><span class="countdown font-mono text-3xl"><!> <span aria-live="polite"> </span>s</span> <!></div> <div class="flex gap-2 items-center px-4 pt-2 pb-4 overflow-x-auto"><!> <input type="text" class="input input-xl min-w-64 flex-1" list="suggests"> <datalist id="suggests"><!></datalist> <button class="btn btn-xl" aria-label="Send"><iconify-icon></iconify-icon> 送信</button></div> <div class="-mt-2 mx-4 mb-2"><progress class="progress" max="100"></progress></div>',3),Dt=_('<span aria-live="polite"> </span>m',1),Nt=(t,e,l)=>e(l()),Rt=_('<button class="btn"> </button>'),Lt=_('<span class="bg-primary text-primary-content text-lg font-bold text-nowrap"> </span> <!>',1),jt=(t,e)=>e("Skip"),Mt=_('<button class="btn" aria-label="Skip"><iconify-icon></iconify-icon> SKIP</button>',2),Ht=(t,e)=>e("Over"),qt=_('<span class="bg-primary text-primary-content text-lg font-bold text-nowrap"> </span> <!> <button class="btn" aria-label="Over"><iconify-icon></iconify-icon> OVER</button>',3),Vt=_("<option></option>"),Ut=_("<option></option>"),Ft=_("<!> <option></option>",1),Wt=(t,e,l,k)=>e.onSendMessage(l()),Jt=_('<div class="flex gap-2 items-center p-4 overflow-x-auto"><span class="countdown font-mono text-2xl"><!> <span aria-live="polite"> </span>s</span> <!> <input type="text" class="input min-w-64 flex-1" list="suggests"> <datalist id="suggests"><!></datalist> <button class="btn" aria-label="Send"><iconify-icon></iconify-icon> 送信</button></div> <div class="-mt-2 mx-4 mb-2"><progress class="progress" max="100"></progress></div>',3),Kt=_('<form class="flex-none bg-base-200" data-sveltekit-keepfocus=""><!></form>');function Pt(t,e){Te(e,!0);const[l,k]=$e(),Y=()=>ce(Q,"$message",l);let ee=he(void 0);Le(()=>{const A=me.subscribe(f=>{be(ee,ke(f))});De(A)});const Q=se("");function te(A){var f;Ve(Q,ke(A)),(f=h(E))==null||f.focus()}let E=he(null);function b(A){A.focus()}var T=Kt(),Z=r(T);{var u=A=>{var f=Ot(),I=F(f),R=r(I),W=r(R);{var S=o=>{var i=mt(),v=F(i),y=r(v,!0);a(v),ve(),K((p,d)=>{ue(v,"style",`--value:${p??""};`),ue(v,"aria-label",d),m(y,p)},[()=>Math.floor(e.remain/6e4),()=>Math.floor(e.remain/6e4).toString()]),c(o,i)};N(W,o=>{e.remain&&e.remain>6e4&&o(S)})}var M=n(W,2),L=r(M,!0);a(M),ve(),a(R);var P=n(R,2);{var U=o=>{var i=xt(),v=r(i);a(i),K(()=>m(v,`${Se[e.request]??""}対象を選択してください`)),c(o,i)},J=o=>{var i=bt(),v=r(i);a(i),K(()=>m(v,`${Se[e.request??$.INITIALIZE]??""}内容を入力してください`)),c(o,i)};N(P,o=>{e.request===$.VOTE||e.request===$.DIVINE||e.request===$.GUARD||e.request===$.ATTACK?o(U):o(J,!1)})}a(I);var O=n(I,2),q=r(O);{var X=o=>{var i=oe(),v=F(i);de(v,17,()=>{var y;return Object.entries(((y=e.info)==null?void 0:y.status_map)??{})},fe,(y,p)=>{let d=()=>h(p)[0],j=()=>h(p)[1];var G=oe(),ne=F(G);{var ie=ge=>{var le=yt();le.__click=[pt,te,d];var _e=r(le,!0);a(le),K(()=>m(_e,d())),c(ge,le)};N(ne,ge=>{var le;j()===Ae.ALIVE&&d()!==((le=e.info)==null?void 0:le.agent)&&ge(ie)})}c(y,G)}),c(o,i)},B=o=>{var i=wt(),v=F(i);{var y=j=>{var G=kt();G.__click=[ht,te];var ne=r(G);re(ne,"icon","mdi:arrow-u-down-right-bold"),ve(),a(G),c(j,G)};N(v,j=>{var G;(((G=e.info)==null?void 0:G.remain_skip)??0)>0&&j(y)})}var p=n(v,2);p.__click=[At,te];var d=r(p);re(d,"icon","mdi:skip-forward"),ve(),a(p),c(o,i)};N(q,o=>{e.request===$.VOTE||e.request===$.DIVINE||e.request===$.GUARD||e.request===$.ATTACK?o(X):o(B,!1)})}var C=n(q,2);ye(C),C.__keydown=[ze,e,Y,Q],Fe(()=>Ge(C,Y,o=>Ve(Q,o))),Ze(C,o=>b==null?void 0:b(o)),Je(C,o=>be(E,o),()=>h(E));var V=n(C,2),ae=r(V);{var z=o=>{var i=oe(),v=F(i);de(v,17,()=>{var y;return Object.entries(((y=e.info)==null?void 0:y.status_map)??{})},fe,(y,p)=>{let d=()=>h(p)[0],j=()=>h(p)[1];var G=oe(),ne=F(G);{var ie=ge=>{var le=It(),_e={};K(()=>{_e!==(_e=d())&&(le.value=(le.__value=d())==null?"":d())}),c(ge,le)};N(ne,ge=>{var le;j()===Ae.ALIVE&&d()!==((le=e.info)==null?void 0:le.agent)&&ge(ie)})}c(y,G)}),c(o,i)},H=o=>{var i=Et(),v=F(i);{var y=d=>{var j=St();j.value=(j.__value="Skip")==null?"":"Skip",c(d,j)};N(v,d=>{var j;(((j=e.info)==null?void 0:j.remain_skip)??0)>0&&d(y)})}var p=n(v,2);p.value=(p.__value="Over")==null?"":"Over",c(o,i)};N(ae,o=>{e.request===$.VOTE||e.request===$.DIVINE||e.request===$.GUARD||e.request===$.ATTACK?o(z):o(H,!1)})}a(V);var s=n(V,2);s.__click=[Tt,e,Y,Q];var g=r(s);re(g,"icon","mdi:send"),ve(),a(s),a(O);var x=n(O,2),w=r(x);a(x),K((o,i)=>{var v;ue(M,"style",`--value:${o??""};`),ue(M,"aria-label",i),m(L,o),Re(w,e.remain!==null?e.remain/(((v=e.setting)==null?void 0:v.timeout.action)??6e4)*100:0)},[()=>Math.floor((e.remain?e.remain%6e4:0)/1e3),()=>Math.floor((e.remain?e.remain%6e4:0)/1e3).toString()]),c(A,f)},D=A=>{var f=Jt(),I=F(f),R=r(I),W=r(R);{var S=s=>{var g=Dt(),x=F(g),w=r(x,!0);a(x),ve(),K((o,i)=>{ue(x,"style",`--value:${o??""};`),ue(x,"aria-label",i),m(w,o)},[()=>Math.floor(e.remain/6e4),()=>Math.floor(e.remain/6e4).toString()]),c(s,g)};N(W,s=>{e.remain&&e.remain>6e4&&s(S)})}var M=n(W,2),L=r(M,!0);a(M),ve(),a(R);var P=n(R,2);{var U=s=>{var g=Lt(),x=F(g),w=r(x);a(x);var o=n(x,2);de(o,17,()=>{var i;return Object.entries(((i=e.info)==null?void 0:i.status_map)??{})},fe,(i,v)=>{let y=()=>h(v)[0],p=()=>h(v)[1];var d=oe(),j=F(d);{var G=ne=>{var ie=Rt();ie.__click=[Nt,te,y];var ge=r(ie,!0);a(ie),K(()=>m(ge,y())),c(ne,ie)};N(j,ne=>{var ie;p()===Ae.ALIVE&&y()!==((ie=e.info)==null?void 0:ie.agent)&&ne(G)})}c(i,d)}),K(()=>m(w,`${Se[e.request]??""}対象を選択してください`)),c(s,g)},J=s=>{var g=qt(),x=F(g),w=r(x);a(x);var o=n(x,2);{var i=p=>{var d=Mt();d.__click=[jt,te];var j=r(d);re(j,"icon","mdi:arrow-u-down-right-bold"),ve(),a(d),c(p,d)};N(o,p=>{var d;(((d=e.info)==null?void 0:d.remain_skip)??0)>0&&p(i)})}var v=n(o,2);v.__click=[Ht,te];var y=r(v);re(y,"icon","mdi:skip-forward"),ve(),a(v),K(()=>m(w,`${Se[e.request??$.INITIALIZE]??""}内容を入力してください`)),c(s,g)};N(P,s=>{e.request===$.VOTE||e.request===$.DIVINE||e.request===$.GUARD||e.request===$.ATTACK?s(U):s(J,!1)})}var O=n(P,2);ye(O),O.__keydown=[ze,e,Y,Q],Fe(()=>Ge(O,Y,s=>Ve(Q,s))),Ze(O,s=>b==null?void 0:b(s)),Je(O,s=>be(E,s),()=>h(E));var q=n(O,2),X=r(q);{var B=s=>{var g=oe(),x=F(g);de(x,17,()=>{var w;return Object.entries(((w=e.info)==null?void 0:w.status_map)??{})},fe,(w,o)=>{let i=()=>h(o)[0],v=()=>h(o)[1];var y=oe(),p=F(y);{var d=j=>{var G=Vt(),ne={};K(()=>{ne!==(ne=i())&&(G.value=(G.__value=i())==null?"":i())}),c(j,G)};N(p,j=>{var G;v()===Ae.ALIVE&&i()!==((G=e.info)==null?void 0:G.agent)&&j(d)})}c(w,y)}),c(s,g)},C=s=>{var g=Ft(),x=F(g);{var w=i=>{var v=Ut();v.value=(v.__value="Skip")==null?"":"Skip",c(i,v)};N(x,i=>{var v;(((v=e.info)==null?void 0:v.remain_skip)??0)>0&&i(w)})}var o=n(x,2);o.value=(o.__value="Over")==null?"":"Over",c(s,g)};N(X,s=>{e.request===$.VOTE||e.request===$.DIVINE||e.request===$.GUARD||e.request===$.ATTACK?s(B):s(C,!1)})}a(q);var V=n(q,2);V.__click=[Wt,e,Y,Q];var ae=r(V);re(ae,"icon","mdi:send"),ve(),a(V),a(I);var z=n(I,2),H=r(z);a(z),K((s,g)=>{var x;ue(M,"style",`--value:${s??""};`),ue(M,"aria-label",g),m(L,s),Re(H,e.remain!==null?e.remain/(((x=e.setting)==null?void 0:x.timeout.action)??6e4)*100:0)},[()=>Math.floor((e.remain?e.remain%6e4:0)/1e3),()=>Math.floor((e.remain?e.remain%6e4:0)/1e3).toString()]),c(A,f)};N(Z,A=>{var f;(f=h(ee))!=null&&f.display.largeScale?A(u):A(D,!1)})}a(T),c(t,T),Oe(),k()}et(["click","keydown"]);var Ct=_('<pre class="bg-primary text-primary-content text-3xl font-bold text-center my-2"> </pre>'),Gt=_('<div class="bg-info text-info-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Yt=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Zt=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Bt=_('<div class="bg-success text-success-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),zt=_('<h2 class="text-2xl font-bold text-center my-2">霊能結果</h2> <!>',1),Qt=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Xt=_('<div class="bg-success text-success-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),$t=_('<h2 class="text-2xl font-bold text-center my-2">占い結果</h2> <!>',1),ea=_('<div class="grow overflow-y-auto pr-4"><pre class="text-5xl font-bold text-center"> </pre> <pre class="text-3xl text-center my-2"> </pre> <!> <!> <!> <!></div>'),ta=_('<pre class="text-lg text-center"> </pre>'),aa=_('<div class="bg-info text-info-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ra=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),na=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ia=_('<div class="bg-success text-success-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),sa=_('<h2 class="text-lg font-bold pt-2">霊能結果</h2> <!>',1),oa=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),la=_('<div class="bg-success text-success-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ca=_('<h2 class="text-lg font-bold pt-2">占い結果</h2> <!>',1),va=_('<h2 class="text-xl font-bold pb-2">エージェント</h2> <div class="grow overflow-y-auto pr-4"><div class="flex justify-around"><div><h2 class="text-lg font-bold text-center">役職</h2> <pre class="text-lg text-center"> </pre></div> <div><h2 class="text-lg font-bold text-center">日数</h2> <pre class="text-lg text-center"> </pre></div> <div><h2 class="text-lg font-bold text-center">リクエスト</h2> <!></div></div> <h2 class="text-lg font-bold pt-2">ステータス</h2> <!> <!> <!></div>',1),ua=_('<div class="flex-[0_0_400px] rounded-lg bg-base-200"><div class="flex flex-col h-full p-4"><!></div></div>');function da(t,e){Te(e,!0);let l=he(void 0);Le(()=>{const E=me.subscribe(b=>{be(l,ke(b))});De(E)});var k=ua(),Y=r(k),ee=r(Y);{var Q=E=>{var b=ea(),T=r(b),Z=r(T,!0);a(T);var u=n(T,2),D=r(u,!0);a(u);var A=n(u,2);{var f=L=>{var P=Ct(),U=r(P,!0);a(P),K(()=>m(U,Se[e.request])),c(L,P)};N(A,L=>{e.request!==null&&L(f)})}var I=n(A,2);de(I,17,()=>Object.entries(e.info.status_map??{}),fe,(L,P)=>{let U=()=>h(P)[0],J=()=>h(P)[1];var O=oe(),q=F(O);{var X=C=>{var V=Gt(),ae=r(V),z=r(ae,!0);a(ae);var H=n(ae,2),s=r(H,!0);a(H);var g=n(H,2),x=r(g,!0);a(g),a(V),K(()=>{m(z,U()),m(s,we[(e.info.role_map??{})[U()]]??""),m(x,Me[J()])}),c(C,V)},B=C=>{var V=Yt(),ae=r(V),z=r(ae,!0);a(ae);var H=n(ae,2),s=r(H,!0);a(H);var g=n(H,2),x=r(g);a(g),a(V),K(w=>{m(z,U()),m(s,we[(e.info.role_map??{})[U()]]??""),m(x,`${Me[J()]??""}${w??""}`)},[()=>e.executedAgents.includes(U())?" (追放)":e.attackedAgents.includes(U())?" (襲撃)":""]),c(C,V)};N(q,C=>{J()===Ae.ALIVE?C(X):C(B,!1)})}c(L,O)});var R=n(I,2);{var W=L=>{var P=zt(),U=n(F(P),2);de(U,17,()=>e.mediumResults,fe,(J,O)=>{let q=()=>h(O).day,X=()=>h(O).target,B=()=>h(O).result;var C=oe(),V=F(C);{var ae=H=>{var s=Zt(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pe[B()])}),c(H,s)},z=H=>{var s=Bt(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pe[B()])}),c(H,s)};N(V,H=>{B()!==Ne.HUMAN?H(ae):H(z,!1)})}c(J,C)}),c(L,P)};N(R,L=>{e.mediumResults.length>0&&L(W)})}var S=n(R,2);{var M=L=>{var P=$t(),U=n(F(P),2);de(U,17,()=>e.divineResults,fe,(J,O)=>{let q=()=>h(O).day,X=()=>h(O).target,B=()=>h(O).result;var C=oe(),V=F(C);{var ae=H=>{var s=Qt(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pe[B()])}),c(H,s)},z=H=>{var s=Xt(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pe[B()])}),c(H,s)};N(V,H=>{B()!==Ne.HUMAN?H(ae):H(z,!1)})}c(J,C)}),c(L,P)};N(S,L=>{e.divineResults.length>0&&L(M)})}a(b),K(()=>{m(Z,e.role!==null?we[e.role]:"ゲーム外"),m(D,e.info!==null?e.info.day+"日目":"ゲーム外")}),c(E,b)},te=E=>{var b=va(),T=n(F(b),2),Z=r(T),u=r(Z),D=n(r(u),2),A=r(D,!0);a(D),a(u);var f=n(u,2),I=n(r(f),2),R=r(I,!0);a(I),a(f);var W=n(f,2),S=n(r(W),2);{var M=q=>{var X=ta(),B=r(X,!0);a(X),K(()=>m(B,Se[e.request])),c(q,X)};N(S,q=>{e.request!==null&&q(M)})}a(W),a(Z);var L=n(Z,4);de(L,17,()=>Object.entries(e.info.status_map??{}),fe,(q,X)=>{let B=()=>h(X)[0],C=()=>h(X)[1];var V=oe(),ae=F(V);{var z=s=>{var g=aa(),x=r(g),w=r(x,!0);a(x);var o=n(x,2),i=r(o,!0);a(o);var v=n(o,2),y=r(v,!0);a(v),a(g),K(()=>{m(w,B()),m(i,we[(e.info.role_map??{})[B()]]??""),m(y,Me[C()])}),c(s,g)},H=s=>{var g=ra(),x=r(g),w=r(x,!0);a(x);var o=n(x,2),i=r(o,!0);a(o);var v=n(o,2),y=r(v);a(v),a(g),K(p=>{m(w,B()),m(i,we[(e.info.role_map??{})[B()]]??""),m(y,`${Me[C()]??""}${p??""}`)},[()=>e.executedAgents.includes(B())?" (追放)":e.attackedAgents.includes(B())?" (襲撃)":""]),c(s,g)};N(ae,s=>{C()===Ae.ALIVE?s(z):s(H,!1)})}c(q,V)});var P=n(L,2);{var U=q=>{var X=sa(),B=n(F(X),2);de(B,17,()=>e.mediumResults,fe,(C,V)=>{let ae=()=>h(V).day,z=()=>h(V).target,H=()=>h(V).result;var s=oe(),g=F(s);{var x=o=>{var i=na(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${ae()??""}日目)`),m(G,pe[H()])}),c(o,i)},w=o=>{var i=ia(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${ae()??""}日目)`),m(G,pe[H()])}),c(o,i)};N(g,o=>{H()!==Ne.HUMAN?o(x):o(w,!1)})}c(C,s)}),c(q,X)};N(P,q=>{e.mediumResults.length>0&&q(U)})}var J=n(P,2);{var O=q=>{var X=ca(),B=n(F(X),2);de(B,17,()=>e.divineResults,fe,(C,V)=>{let ae=()=>h(V).day,z=()=>h(V).target,H=()=>h(V).result;var s=oe(),g=F(s);{var x=o=>{var i=oa(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${ae()??""}日目)`),m(G,pe[H()])}),c(o,i)},w=o=>{var i=la(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${ae()??""}日目)`),m(G,pe[H()])}),c(o,i)};N(g,o=>{H()!==Ne.HUMAN?o(x):o(w,!1)})}c(C,s)}),c(q,X)};N(J,q=>{e.divineResults.length>0&&q(O)})}a(T),K(()=>{m(A,e.role!==null?we[e.role]:"ゲーム外"),m(R,e.info!==null?e.info.day+"日目":"ゲーム外")}),c(E,b)};N(ee,E=>{var b;(b=h(l))!=null&&b.display.largeScale?E(Q):E(te,!1)})}a(Y),a(k),c(t,k),Oe()}function fa(){Ee.connect()}function _a(){Ee.disconnect()}var ga=_('<div class="status status-success animate-ping"></div> <div class="status status-success"></div>',1),ma=_('<div class="status status-warning animate-ping"></div> <div class="status status-warning"></div>',1),xa=_('<div class="status status-error"></div>'),ba=(t,e)=>e("connection.url",t.currentTarget.value),pa=(t,e)=>e("connection.token",t.currentTarget.value),ya=(t,e)=>e("team",t.currentTarget.value),ha=(t,e)=>e("display.largeScale",t.currentTarget.checked),ka=_('<div class="navbar bg-base-100 flex justify-start gap-4 overflow-x-auto"><h1 class="text-3xl font-bold text-nowrap ml-2">aiwolf-nlp-viewer</h1> <div class="ml-auto"><div class="inline-grid *:[grid-area:1/1]"><!></div></div> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="WebSocket URL"></label> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="Authorization Key"> <span class="badge badge-neutral badge-xs">Optional</span></label> <button class="btn btn-info">接続</button> <button class="btn btn-error">切断</button> <button class="btn">設定</button> <dialog class="modal"><div class="modal-box"><div class="form-control my-2"><h3 class="text-lg font-bold">エージェント設定</h3> <h4 class="text-base font-bold mt-2">チーム名</h4> <label class="input min-w-3xs w-3xs my-2"><iconify-icon></iconify-icon> <input type="text" class="grow"></label> <h3 class="text-lg font-bold mt-4">表示設定</h3> <h4 class="text-base font-bold mt-2">大画面向け</h4> <label class="label cursor-pointer my-2"><span class="label-text">有効</span> <input type="checkbox" class="checkbox"></label></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog> <label class="flex items-center cursor-pointer gap-2"><iconify-icon></iconify-icon> <input type="checkbox" value="dark" class="toggle theme-controller"> <iconify-icon></iconify-icon></label></div>',2);function Aa(t,e){Te(e,!0);let l=he(void 0),k=he(void 0);const Y=me.subscribe(s=>{be(l,ke(s))}),ee=Ee.subscribe(s=>{be(k,ke(s.status))});De(()=>{Y(),ee()});function Q(s,g){me.update(x=>{const w=s.split("."),o=w.pop();let i=x;for(const v of w)v&&(i=i[v]);return i[o]=g,{...x}})}let te;var E=ka(),b=n(r(E),2),T=r(b),Z=r(T);{var u=s=>{var g=ga();ve(2),c(s,g)},D=s=>{var g=oe(),x=F(g);{var w=i=>{var v=ma();ve(2),c(i,v)},o=i=>{var v=xa();c(i,v)};N(x,i=>{h(k)==="connecting"?i(w):i(o,!1)},!0)}c(s,g)};N(Z,s=>{h(k)==="connected"?s(u):s(D,!1)})}a(T),a(b);var A=n(b,2),f=r(A);re(f,"class","h-[1em] opacity-50"),re(f,"inline",!0),re(f,"icon","mdi:link");var I=n(f,2);ye(I),I.__input=[ba,Q],a(A);var R=n(A,2),W=r(R);re(W,"class","h-[1em] opacity-50"),re(W,"inline",!0),re(W,"icon","mdi:key");var S=n(W,2);ye(S),S.__input=[pa,Q],ve(2),a(R);var M=n(R,2);M.__click=[fa];var L=n(M,2);L.__click=[_a];var P=n(L,2);P.__click=()=>te.showModal();var U=n(P,2),J=r(U),O=r(J),q=n(r(O),4),X=r(q);re(X,"class","h-[1em] opacity-50"),re(X,"inline",!0),re(X,"icon","mdi:rename");var B=n(X,2);ye(B),B.__input=[ya,Q],a(q);var C=n(q,6),V=n(r(C),2);ye(V),V.__change=[ha,Q],a(C),a(O),a(J),ve(2),a(U),Je(U,s=>te=s,()=>te);var ae=n(U,2),z=r(ae);re(z,"inline",!0),re(z,"icon","mdi:white-balance-sunny");var H=n(z,4);re(H,"inline",!0),re(H,"icon","mdi:moon-and-stars"),a(ae),a(E),K(()=>{var s,g,x,w;Re(I,(s=h(l))==null?void 0:s.connection.url),Re(S,(g=h(l))==null?void 0:g.connection.token),M.disabled=h(k)!=="disconnected",L.disabled=h(k)==="disconnected",Re(B,(x=h(l))==null?void 0:x.team),We(V,(w=h(l))==null?void 0:w.display.largeScale)}),c(t,E),Oe()}et(["input","click","change"]);var wa=_("<iconify-icon></iconify-icon>",2),Ia=_("<iconify-icon></iconify-icon>",2),Sa=_('<div class="chat-bubble bg-base-100 text-xl text-pretty break-all"> </div>'),Ea=_('<div class="chat-image avatar"><div class="w-20 rounded-full"><img></div></div> <pre class="chat-header text-lg"> </pre> <!> <pre class="chat-footer opacity-50 text-sm"> </pre>',1),Ta=_("<iconify-icon></iconify-icon>",2),Oa=_("<iconify-icon></iconify-icon>",2),Da=_('<div class="chat-bubble bg-base-100 text-pretty break-all"> </div>'),Na=_('<div class="chat-image avatar"><div class="w-10 rounded-full"><img></div></div> <pre class="chat-header"> </pre> <!> <pre class="chat-footer opacity-50"> </pre>',1),Ra=_('<div class="chat chat-start"><!></div>');function Qe(t,e){Te(e,!0);let l=he(void 0);Le(()=>{const te=me.subscribe(E=>{be(l,ke(E))});De(te)});var k=Ra(),Y=r(k);{var ee=te=>{var E=Ea(),b=F(E),T=r(b),Z=r(T);a(T),a(b);var u=n(b,2),D=r(u,!0);a(u);var A=n(u,2);{var f=S=>{var M=wa();re(M,"inline",!0),re(M,"icon","mdi:skip-forward"),c(S,M)},I=S=>{var M=oe(),L=F(M);{var P=J=>{var O=Ia();re(O,"inline",!0),re(O,"icon","mdi:arrow-u-down-right-bold"),c(J,O)},U=J=>{var O=Sa(),q=r(O,!0);a(O),K(()=>m(q,e.talk.text)),c(J,O)};N(L,J=>{e.talk.skip?J(P):J(U,!1)},!0)}c(S,M)};N(A,S=>{e.talk.over?S(f):S(I,!1)})}var R=n(A,2),W=r(R);a(R),K(S=>{ue(Z,"src",`${Ye??""}/images/male/${S??""}.png`),ue(Z,"alt",e.talk.agent),m(D,e.talk.agent),m(W,`Idx: ${e.talk.idx??""}`)},[()=>{var S;return Number((S=e.talk.agent.match(/Agent\[(\d+)\]/))==null?void 0:S[1]).toString().padStart(2,"0")}]),c(te,E)},Q=te=>{var E=Na(),b=F(E),T=r(b),Z=r(T);a(T),a(b);var u=n(b,2),D=r(u,!0);a(u);var A=n(u,2);{var f=S=>{var M=Ta();re(M,"inline",!0),re(M,"icon","mdi:skip-forward"),c(S,M)},I=S=>{var M=oe(),L=F(M);{var P=J=>{var O=Oa();re(O,"inline",!0),re(O,"icon","mdi:arrow-u-down-right-bold"),c(J,O)},U=J=>{var O=Da(),q=r(O,!0);a(O),K(()=>m(q,e.talk.text)),c(J,O)};N(L,J=>{e.talk.skip?J(P):J(U,!1)},!0)}c(S,M)};N(A,S=>{e.talk.over?S(f):S(I,!1)})}var R=n(A,2),W=r(R);a(R),K(S=>{ue(Z,"src",`${Ye??""}/images/male/${S??""}.png`),ue(Z,"alt",e.talk.agent),m(D,e.talk.agent),m(W,`Idx: ${e.talk.idx??""}`)},[()=>{var S;return Number((S=e.talk.agent.match(/Agent\[(\d+)\]/))==null?void 0:S[1]).toString().padStart(2,"0")}]),c(te,E)};N(Y,te=>{var E;(E=h(l))!=null&&E.display.largeScale?te(ee):te(Q,!1)})}a(k),c(t,k),Oe()}var La=_('<input type="radio" name="talk_days" class="tab text-lg font-bold"> <div class="tab-content my-4"></div>',1),ja=_('<div class="tabs tabs-border"></div>'),Ma=_('<h2 class="text-3xl font-bold pb-2"> </h2> <div class="grow overflow-y-auto pr-4"><!></div>',1),Ha=_('<input type="radio" name="talk_days" class="tab"> <div class="tab-content my-4"></div>',1),qa=_('<div class="tabs tabs-border"></div>'),Va=_('<h2 class="text-xl font-bold pb-2"> </h2> <div class="grow overflow-y-auto pr-4"><!></div>',1),Ua=_('<div class="flex-[0_0_600px] rounded-lg bg-base-200"><div class="flex flex-col h-full p-4"><!></div></div>');function Xe(t,e){Te(e,!0);let l=he(void 0);Le(()=>{const E=me.subscribe(b=>{be(l,ke(b))});De(E)});var k=Ua(),Y=r(k),ee=r(Y);{var Q=E=>{var b=Ma(),T=F(b),Z=r(T,!0);a(T);var u=n(T,2),D=r(u);{var A=f=>{var I=ja();const R=Ce(()=>[...new Set(e.talks.map(W=>W.day))].sort((W,S)=>S-W));de(I,21,()=>h(R),fe,(W,S)=>{var M=La(),L=F(M);ye(L);var P=n(L,2);de(P,21,()=>e.talks.filter(U=>U.day===h(S)),fe,(U,J)=>{Qe(U,{get talk(){return h(J)}})}),a(P),K(()=>{We(L,h(S)===h(R)[0]),ue(L,"aria-label",`${h(S)}日目`)}),c(W,M)}),a(I),c(f,I)};N(D,f=>{e.talks.length>0&&f(A)})}a(u),K(()=>m(Z,e.header)),c(E,b)},te=E=>{var b=Va(),T=F(b),Z=r(T,!0);a(T);var u=n(T,2),D=r(u);{var A=f=>{var I=qa();const R=Ce(()=>[...new Set(e.talks.map(W=>W.day))].sort((W,S)=>S-W));de(I,21,()=>h(R),fe,(W,S)=>{var M=Ha(),L=F(M);ye(L);var P=n(L,2);de(P,21,()=>e.talks.filter(U=>U.day===h(S)),fe,(U,J)=>{Qe(U,{get talk(){return h(J)}})}),a(P),K(()=>{We(L,h(S)===h(R)[0]),ue(L,"aria-label",`${h(S)}日目`)}),c(W,M)}),a(I),c(f,I)};N(D,f=>{e.talks.length>0&&f(A)})}a(u),K(()=>m(Z,e.header)),c(E,b)};N(ee,E=>{var b;(b=h(l))!=null&&b.display.largeScale?E(Q):E(te,!1)})}a(Y),a(k),c(t,k),Oe()}var Fa=_('<div class="overflow-y-hidden flex grow overflox-x-auto gap-4 p-4"><!> <!> <!></div> <!>',1),Wa=_('<div class="flex items-center justify-center h-full"><pre class="base-content text-9xl font-bold opacity-70 select-none">未接続</pre></div>'),Ja=_('<div role="alert" class="alert m-4"><span class="text-lg font-bold">未接続</span></div>'),Ka=_('<main class="h-screen flex flex-col bg-base-300"><!> <!></main>');function or(t,e){Te(e,!0);const[l,k]=$e(),Y=()=>ce(W,"$deadline",l),ee=()=>ce(R,"$status",l),Q=()=>ce(P,"$info",l),te=()=>ce(M,"$role",l),E=()=>ce(L,"$request",l),b=()=>ce(U,"$mediumResults",l),T=()=>ce(J,"$divineResults",l),Z=()=>ce(B,"$executedAgents",l),u=()=>ce(C,"$attackedAgents",l),D=()=>ce(q,"$talkHistory",l),A=()=>ce(X,"$whisperHistory",l),f=()=>ce(V,"$remain",l),I=()=>ce(O,"$setting",l),R=se(""),W=se(null),S=se([]),M=se(null),L=se(null),P=se(null),U=se([]),J=se([]),O=se(null),q=se([]),X=se([]),B=se([]),C=se([]),V=se(null);let ae=he(void 0),z;function H(){{const y=ot.url.searchParams,p=y.get("url"),d=y.get("token");p&&(me.update(j=>({...j,connection:{url:p??"",token:d??""}})),Ee.connect())}}function s(){if(Y()!==null){const y=Date.now(),p=Math.max(0,Y()-y);V.set(p),p>0?z=requestAnimationFrame(s):V.set(0)}return()=>{z&&cancelAnimationFrame(z)}}Le(()=>{H();const y=Ee.subscribe(d=>{R.set(d.status),d.deadline?(W.set(d.deadline.getTime()),z&&cancelAnimationFrame(z),z=requestAnimationFrame(s)):(W.set(null),V.set(null)),S.set(d.entries),M.set(d.role),L.set(d.request),P.set(d.info),U.set(d.mediumResults),J.set(d.divineResults),O.set(d.setting),q.set(d.talkHistory),X.set(d.whisperHistory),B.set(d.executedAgents),C.set(d.attackedAgents)}),p=me.subscribe(d=>{be(ae,ke(d))});De(()=>{y(),p(),z&&cancelAnimationFrame(z)}),window.addEventListener("beforeunload",d=>{ee()==="connected"&&d.preventDefault()}),window.addEventListener("popstate",d=>{ee()==="connected"&&d.preventDefault()})});function g(y){Ee.send(y)}var x=Ka();st(y=>{it.title="aiwolf-nlp-viewer"});var w=r(x);Aa(w,{});var o=n(w,2);{var i=y=>{var p=Fa(),d=F(p),j=r(d);da(j,{get role(){return te()},get request(){return E()},get info(){return Q()},get mediumResults(){return b()},get divineResults(){return T()},get executedAgents(){return Z()},get attackedAgents(){return u()}});var G=n(j,2);Xe(G,{header:"トーク履歴",get talks(){return D()}});var ne=n(G,2);{var ie=_e=>{Xe(_e,{header:"囁き履歴",get talks(){return A()}})};N(ne,_e=>{te()===tt.WEREWOLF&&_e(ie)})}a(d);var ge=n(d,2);{var le=_e=>{Pt(_e,{get remain(){return f()},get setting(){return I()},get request(){return E()},get info(){return Q()},onSendMessage:g})};N(ge,_e=>{f()!==null&&_e(le)})}c(y,p)},v=y=>{var p=oe(),d=F(p);{var j=ne=>{var ie=Wa();c(ne,ie)},G=ne=>{var ie=Ja();c(ne,ie)};N(d,ne=>{var ie;(ie=h(ae))!=null&&ie.display.largeScale?ne(j):ne(G,!1)},!0)}c(y,p)};N(o,y=>{Q()!==null?y(i):y(v,!1)})}a(x),c(t,x),Oe(),k()}export{or as component};
