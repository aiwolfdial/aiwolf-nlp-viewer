var ae=Object.defineProperty;var re=(e,t,l)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var qt=(e,t,l)=>re(e,typeof t!="symbol"?t+"":t,l);import{t as _,a as c,c as ot}from"../chunks/CQIKem6B.js";import{e as Ft,u as ne,p as Tt,h as bt,aG as ht,c as r,g as h,r as a,a as Ot,f as U,s as n,aI as vt,t as K,y as Ct,$ as se}from"../chunks/DJzILnW5.js";import{h as ie}from"../chunks/74kPUpG4.js";import{i as N}from"../chunks/bGcRSTrU.js";import{p as At}from"../chunks/BaREKndI.js";import{a as $t,s as ct,b as Vt}from"../chunks/CmdMf11p.js";import{p as oe}from"../chunks/BF8dra_d.js";import{w as it}from"../chunks/B7xs7M_3.js";import{o as Rt,a as Dt}from"../chunks/CSRI-F4q.js";/* empty css                */import{d as te,s as m}from"../chunks/bj5TrsLi.js";import{e as dt,i as ft}from"../chunks/n8ULSs76.js";import{r as yt,s as rt,a as ut,c as Mt,d as Wt}from"../chunks/GM4Wqstv.js";import{b as Gt}from"../chunks/D44jfrx6.js";import{b as Jt}from"../chunks/D1AgY69q.js";import{b as Yt}from"../chunks/DU1d03Og.js";function Zt(e,t,l){Ft(()=>{var A=ne(()=>t(e,l==null?void 0:l())||{});if(A!=null&&A.destroy)return()=>A.destroy()})}class Kt{static fromJson(t){return ve(JSON.parse(t),Ht("AgentSettings"))}static toJson(t){return JSON.stringify(ue(t,Ht("AgentSettings")),null,2)}}function xt(e,t,l,A=""){const Y=Pt(e),tt=A?` on ${A}`:"",Q=l?` for key "${l}"`:"";throw Error(`Invalid value${Q}${tt}. Expected ${Y} but got ${JSON.stringify(t)}`)}function Pt(e){return Array.isArray(e)?e.length===2&&e[0]===void 0?`an optional ${Pt(e[1])}`:`one of [${e.map(t=>Pt(t)).join(", ")}]`:typeof e=="object"&&e.literal!==void 0?e.literal:typeof e}function le(e){if(e.jsonToJS===void 0){const t={};e.props.forEach(l=>t[l.json]={key:l.js,typ:l.typ}),e.jsonToJS=t}return e.jsonToJS}function ce(e){if(e.jsToJSON===void 0){const t={};e.props.forEach(l=>t[l.js]={key:l.json,typ:l.typ}),e.jsToJSON=t}return e.jsToJSON}function It(e,t,l,A="",Y=""){function tt(u,D){return typeof u==typeof D?D:xt(u,D,A,Y)}function Q(u,D){const k=u.length;for(let f=0;f<k;f++){const I=u[f];try{return It(D,I,l)}catch{}}return xt(u,D,A,Y)}function et(u,D){return u.indexOf(D)!==-1?D:xt(u.map(k=>Lt(k)),D,A,Y)}function E(u,D){return Array.isArray(D)?D.map(k=>It(k,u,l)):xt(Lt("array"),D,A,Y)}function p(u){if(u===null)return null;const D=new Date(u);return isNaN(D.valueOf())?xt(Lt("Date"),u,A,Y):D}function T(u,D,k){if(k===null||typeof k!="object"||Array.isArray(k))return xt(Lt(Z||"object"),k,A,Y);const f={};return Object.getOwnPropertyNames(u).forEach(I=>{const M=u[I],W=Object.prototype.hasOwnProperty.call(k,I)?k[I]:void 0;f[M.key]=It(W,M.typ,l,I,Z)}),Object.getOwnPropertyNames(k).forEach(I=>{Object.prototype.hasOwnProperty.call(u,I)||(f[I]=It(k[I],D,l,I,Z))}),f}if(t==="any")return e;if(t===null)return e===null?e:xt(t,e,A,Y);if(t===!1)return xt(t,e,A,Y);let Z;for(;typeof t=="object"&&t.ref!==void 0;)Z=t.ref,t=de[t.ref];return Array.isArray(t)?et(t,e):typeof t=="object"?t.hasOwnProperty("unionMembers")?Q(t.unionMembers,e):t.hasOwnProperty("arrayItems")?E(t.arrayItems,e):t.hasOwnProperty("props")?T(l(t),t.additional,e):xt(t,e,A,Y):t===Date&&typeof e!="number"?p(e):tt(t,e)}function ve(e,t){return It(e,t,le)}function ue(e,t){return It(e,t,ce)}function Lt(e){return{literal:e}}function Ut(e,t){return{props:e,additional:t}}function Ht(e){return{ref:e}}const de={AgentSettings:Ut([{json:"connection",js:"connection",typ:Ht("Connection")},{json:"team",js:"team",typ:""},{json:"display",js:"display",typ:Ht("Display")}],!1),Connection:Ut([{json:"url",js:"url",typ:""},{json:"token",js:"token",typ:""}],!1),Display:Ut([{json:"largeScale",js:"largeScale",typ:!0}],!1)},Bt={connection:{url:"ws://localhost:8080/ws",token:""},team:"aiwolf-nlp-viewer",display:{largeScale:!1}};function fe(){const e=localStorage.getItem("agent-settings");if(e)try{return Kt.fromJson(e)}catch(t){console.error(t)}return localStorage.setItem("agent-settings",Kt.toJson(Bt)),Bt}const mt=it(fe());mt.subscribe(e=>{localStorage.setItem("agent-settings",Kt.toJson(e))});var $=(e=>(e.NAME="NAME",e.TALK="TALK",e.WHISPER="WHISPER",e.VOTE="VOTE",e.DIVINE="DIVINE",e.GUARD="GUARD",e.ATTACK="ATTACK",e.INITIALIZE="INITIALIZE",e.DAILY_INITIALIZE="DAILY_INITIALIZE",e.DAILY_FINISH="DAILY_FINISH",e.FINISH="FINISH",e))($||{});const St={NAME:"名前",TALK:"トーク",WHISPER:"囁き",VOTE:"投票",DIVINE:"占い",GUARD:"護衛",ATTACK:"襲撃",INITIALIZE:"ゲーム開始",DAILY_INITIALIZE:"昼開始",DAILY_FINISH:"昼終了",FINISH:"ゲーム終了"};var Nt=(e=>(e.HUMAN="HUMAN",e.WEREWOLF="WEREWOLF",e))(Nt||{});const pt={HUMAN:"人間",WEREWOLF:"人狼"};var kt=(e=>(e.ALIVE="ALIVE",e.DEAD="DEAD",e))(kt||{});const jt={ALIVE:"生存",DEAD:"死亡"};var ee=(e=>(e.WEREWOLF="WEREWOLF",e.POSSESSED="POSSESSED",e.SEER="SEER",e.BODYGUARD="BODYGUARD",e.VILLAGER="VILLAGER",e.MEDIUM="MEDIUM",e))(ee||{});const wt={WEREWOLF:"人狼",POSSESSED:"狂人",SEER:"占い師",BODYGUARD:"騎士",VILLAGER:"村人",MEDIUM:"霊媒師"};function _e(){const{subscribe:e,update:t}=it({status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[],executedAgents:[],attackedAgents:[]});let l=null,A=null,Y=null,tt=null;mt.subscribe(p=>{A=p});function Q(){l&&(l.close(),l=null,t(p=>({...p,status:"disconnected"}))),tt&&(tt.clear(),tt=null)}function et(){if(!A)return;l&&t(T=>({...T,status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[],executedAgents:[],attackedAgents:[]})),t(T=>({...T,status:"connecting"}));const p=new URL(A.connection.url);A.connection.token&&p.searchParams.set("token",A.connection.token),l=new WebSocket(p),l.onopen=()=>{t(T=>({...T,status:"connected"}))},l.onclose=()=>{Q()},l.onerror=()=>{Q()},l.onmessage=T=>{try{const Z=Date.now(),u=JSON.parse(T.data);switch(t(D=>{const k=D.entries.slice();k.push(u);const f={...D,entries:k,request:u.request};if(u.info){if(f.info=u.info,u.info.mediumResult){const I=u.info.mediumResult;f.mediumResults.findIndex(M=>M.day===I.day&&M.agent===I.agent)<0&&f.mediumResults.push(u.info.mediumResult)}if(u.info.divineResult){const I=u.info.divineResult;f.divineResults.findIndex(M=>M.day===I.day&&M.agent===I.agent)<0&&f.divineResults.push(u.info.divineResult)}u.info.executedAgent&&f.executedAgents.push(u.info.executedAgent),u.info.attackedAgent&&f.attackedAgents.push(u.info.attackedAgent)}return u.setting&&(f.setting=u.setting,Y=u.setting.actionTimeout),u.talkHistory&&f.talkHistory.push(...u.talkHistory),u.whisperHistory&&f.whisperHistory.push(...u.whisperHistory),u.request===$.INITIALIZE&&f.info&&f.info.roleMap&&f.info.agent&&(f.role=f.info.roleMap[f.info.agent]),f}),u.request){case $.NAME:E((A==null?void 0:A.team)||"viewer"+Math.floor(Math.random()*1e3));break;case $.TALK:case $.WHISPER:case $.VOTE:case $.DIVINE:case $.GUARD:case $.ATTACK:tt&&tt.clear(),tt=new ge(()=>{E("TIMEOUT")},new Date(Z+(Y??6e4))),t(D=>({...D,deadline:(tt==null?void 0:tt.deadline())??null}));break;case $.FINISH:Q();break}}catch(Z){console.error("Failed to parse message:",Z)}}}function E(p){if(tt&&(tt.clear(),tt=null,t(T=>({...T,deadline:null}))),l&&l.readyState===WebSocket.OPEN)try{l.send(p),t(T=>{const Z=T.entries.slice();return Z.push(p),{...T,entries:Z}})}catch(T){console.error("Failed to send message:",T)}}return{subscribe:e,connect:et,disconnect:Q,send:E}}const Et=_e();class ge{constructor(t,l){qt(this,"timeout");qt(this,"_deadline");this.timeout=setTimeout(t,l.getTime()-new Date().getTime()),this._deadline=l}deadline(){return this._deadline}clear(){clearTimeout(this.timeout)}}function zt(e,t,l,A){e.key==="Enter"&&(e.preventDefault(),(e.ctrlKey||e.metaKey)&&t.onSendMessage(l()))}var me=_('<span aria-live="polite"> </span>m',1),xe=_('<span class="bg-primary text-primary-content w-full py-2 text-3xl font-bold text-nowrap text-center"> </span>'),be=_('<span class="bg-primary text-primary-content w-full py-2 text-3xl font-bold text-nowrap text-center"> </span>'),pe=(e,t,l)=>t(l()),ye=_('<button class="btn"> </button>'),he=(e,t)=>t("Skip"),Ae=_('<button class="btn btn-xl" aria-label="Skip"><iconify-icon></iconify-icon> SKIP</button>',2),ke=(e,t)=>t("Over"),we=_('<!> <button class="btn btn-xl" aria-label="Over"><iconify-icon></iconify-icon> OVER</button>',3),Ie=_("<option></option>"),Se=_("<option></option>"),Ee=_("<!> <option></option>",1),Te=(e,t,l,A)=>t.onSendMessage(l()),Oe=_('<div class="flex gap-2 items-center mx-4 pt-4 overflow-x-auto"><span class="countdown font-mono text-3xl"><!> <span aria-live="polite"> </span>s</span> <!></div> <div class="flex gap-2 items-center mx-4 pt-2 pb-4 overflow-x-auto"><!> <input type="text" class="input input-xl min-w-64 flex-1" list="suggests"> <datalist id="suggests"><!></datalist> <button class="btn btn-xl" aria-label="Send"><iconify-icon></iconify-icon> 送信</button></div> <div class="-mt-2 mx-4 mb-2"><progress class="progress" max="100"></progress></div>',3),De=_('<span aria-live="polite"> </span>m',1),Ne=(e,t,l)=>t(l()),Me=_('<button class="btn"> </button>'),Re=_('<span class="bg-primary text-primary-content text-lg font-bold text-nowrap"> </span> <!>',1),Le=(e,t)=>t("Skip"),je=_('<button class="btn" aria-label="Skip"><iconify-icon></iconify-icon> SKIP</button>',2),He=(e,t)=>t("Over"),qe=_('<span class="bg-primary text-primary-content text-lg font-bold text-nowrap"> </span> <!> <button class="btn" aria-label="Over"><iconify-icon></iconify-icon> OVER</button>',3),Ve=_("<option></option>"),Ue=_("<option></option>"),Fe=_("<!> <option></option>",1),We=(e,t,l,A)=>t.onSendMessage(l()),Je=_('<div class="flex gap-2 items-center mx-4 pt-4 pb-4 overflow-x-auto"><span class="countdown font-mono text-2xl"><!> <span aria-live="polite"> </span>s</span> <!> <input type="text" class="input min-w-64 flex-1" list="suggests"> <datalist id="suggests"><!></datalist> <button class="btn" aria-label="Send"><iconify-icon></iconify-icon> 送信</button></div> <div class="-mt-2 mx-4 mb-2"><progress class="progress" max="100"></progress></div>',3),Ke=_('<form class="flex-none bg-base-200" data-sveltekit-keepfocus=""><!></form>');function Pe(e,t){Tt(t,!0);const[l,A]=$t(),Y=()=>ct(Q,"$message",l);let tt=ht(void 0);Rt(()=>{const k=mt.subscribe(f=>{bt(tt,At(f))});Dt(k)});const Q=it("");function et(k){var f;Vt(Q,At(k)),(f=h(E))==null||f.focus()}let E=ht(null);function p(k){k.focus()}var T=Ke(),Z=r(T);{var u=k=>{var f=Oe(),I=U(f),M=r(I),W=r(M);{var S=o=>{var s=me(),v=U(s),y=r(v,!0);a(v),vt(),K((b,d)=>{ut(v,"style",`--value:${b??""};`),ut(v,"aria-label",d),m(y,b)},[()=>Math.floor(t.remain/6e4),()=>Math.floor(t.remain/6e4).toString()]),c(o,s)};N(W,o=>{t.remain&&t.remain>6e4&&o(S)})}var j=n(W,2),R=r(j,!0);a(j),vt(),a(M);var P=n(M,2);{var F=o=>{var s=xe(),v=r(s);a(s),K(()=>m(v,`${St[t.request]??""}対象を選択してください`)),c(o,s)},J=o=>{var s=be(),v=r(s);a(s),K(()=>m(v,`${St[t.request??$.INITIALIZE]??""}内容を入力してください`)),c(o,s)};N(P,o=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?o(F):o(J,!1)})}a(I);var O=n(I,2),q=r(O);{var X=o=>{var s=ot(),v=U(s);dt(v,17,()=>{var y;return Object.entries(((y=t.info)==null?void 0:y.statusMap)??{})},ft,(y,b)=>{let d=()=>h(b)[0],L=()=>h(b)[1];var G=ot(),nt=U(G);{var st=gt=>{var lt=ye();lt.__click=[pe,et,d];var _t=r(lt,!0);a(lt),K(()=>m(_t,d())),c(gt,lt)};N(nt,gt=>{var lt;L()===kt.ALIVE&&d()!==((lt=t.info)==null?void 0:lt.agent)&&gt(st)})}c(y,G)}),c(o,s)},B=o=>{var s=we(),v=U(s);{var y=L=>{var G=Ae();G.__click=[he,et];var nt=r(G);rt(nt,"icon","mdi:arrow-u-down-right-bold"),vt(),a(G),c(L,G)};N(v,L=>{var G;(((G=t.setting)==null?void 0:G.maxSkip)??0)>0&&L(y)})}var b=n(v,2);b.__click=[ke,et];var d=r(b);rt(d,"icon","mdi:skip-forward"),vt(),a(b),c(o,s)};N(q,o=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?o(X):o(B,!1)})}var C=n(q,2);yt(C),C.__keydown=[zt,t,Y,Q],Ft(()=>Gt(C,Y,o=>Vt(Q,o))),Zt(C,o=>p==null?void 0:p(o)),Jt(C,o=>bt(E,o),()=>h(E));var V=n(C,2),at=r(V);{var z=o=>{var s=ot(),v=U(s);dt(v,17,()=>{var y;return Object.entries(((y=t.info)==null?void 0:y.statusMap)??{})},ft,(y,b)=>{let d=()=>h(b)[0],L=()=>h(b)[1];var G=ot(),nt=U(G);{var st=gt=>{var lt=Ie(),_t={};K(()=>{_t!==(_t=d())&&(lt.value=(lt.__value=d())==null?"":d())}),c(gt,lt)};N(nt,gt=>{var lt;L()===kt.ALIVE&&d()!==((lt=t.info)==null?void 0:lt.agent)&&gt(st)})}c(y,G)}),c(o,s)},H=o=>{var s=Ee(),v=U(s);{var y=d=>{var L=Se();L.value=(L.__value="Skip")==null?"":"Skip",c(d,L)};N(v,d=>{var L;(((L=t.setting)==null?void 0:L.maxSkip)??0)>0&&d(y)})}var b=n(v,2);b.value=(b.__value="Over")==null?"":"Over",c(o,s)};N(at,o=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?o(z):o(H,!1)})}a(V);var i=n(V,2);i.__click=[Te,t,Y,Q];var g=r(i);rt(g,"icon","mdi:send"),vt(),a(i),a(O);var x=n(O,2),w=r(x);a(x),K((o,s)=>{var v;ut(j,"style",`--value:${o??""};`),ut(j,"aria-label",s),m(R,o),Mt(w,t.remain!==null?t.remain/(((v=t.setting)==null?void 0:v.actionTimeout)??6e4)*100:0)},[()=>Math.floor((t.remain?t.remain%6e4:0)/1e3),()=>Math.floor((t.remain?t.remain%6e4:0)/1e3).toString()]),c(k,f)},D=k=>{var f=Je(),I=U(f),M=r(I),W=r(M);{var S=i=>{var g=De(),x=U(g),w=r(x,!0);a(x),vt(),K((o,s)=>{ut(x,"style",`--value:${o??""};`),ut(x,"aria-label",s),m(w,o)},[()=>Math.floor(t.remain/6e4),()=>Math.floor(t.remain/6e4).toString()]),c(i,g)};N(W,i=>{t.remain&&t.remain>6e4&&i(S)})}var j=n(W,2),R=r(j,!0);a(j),vt(),a(M);var P=n(M,2);{var F=i=>{var g=Re(),x=U(g),w=r(x);a(x);var o=n(x,2);dt(o,17,()=>{var s;return Object.entries(((s=t.info)==null?void 0:s.statusMap)??{})},ft,(s,v)=>{let y=()=>h(v)[0],b=()=>h(v)[1];var d=ot(),L=U(d);{var G=nt=>{var st=Me();st.__click=[Ne,et,y];var gt=r(st,!0);a(st),K(()=>m(gt,y())),c(nt,st)};N(L,nt=>{var st;b()===kt.ALIVE&&y()!==((st=t.info)==null?void 0:st.agent)&&nt(G)})}c(s,d)}),K(()=>m(w,`${St[t.request]??""}対象を選択してください`)),c(i,g)},J=i=>{var g=qe(),x=U(g),w=r(x);a(x);var o=n(x,2);{var s=b=>{var d=je();d.__click=[Le,et];var L=r(d);rt(L,"icon","mdi:arrow-u-down-right-bold"),vt(),a(d),c(b,d)};N(o,b=>{var d;(((d=t.setting)==null?void 0:d.maxSkip)??0)>0&&b(s)})}var v=n(o,2);v.__click=[He,et];var y=r(v);rt(y,"icon","mdi:skip-forward"),vt(),a(v),K(()=>m(w,`${St[t.request??$.INITIALIZE]??""}内容を入力してください`)),c(i,g)};N(P,i=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?i(F):i(J,!1)})}var O=n(P,2);yt(O),O.__keydown=[zt,t,Y,Q],Ft(()=>Gt(O,Y,i=>Vt(Q,i))),Zt(O,i=>p==null?void 0:p(i)),Jt(O,i=>bt(E,i),()=>h(E));var q=n(O,2),X=r(q);{var B=i=>{var g=ot(),x=U(g);dt(x,17,()=>{var w;return Object.entries(((w=t.info)==null?void 0:w.statusMap)??{})},ft,(w,o)=>{let s=()=>h(o)[0],v=()=>h(o)[1];var y=ot(),b=U(y);{var d=L=>{var G=Ve(),nt={};K(()=>{nt!==(nt=s())&&(G.value=(G.__value=s())==null?"":s())}),c(L,G)};N(b,L=>{var G;v()===kt.ALIVE&&s()!==((G=t.info)==null?void 0:G.agent)&&L(d)})}c(w,y)}),c(i,g)},C=i=>{var g=Fe(),x=U(g);{var w=s=>{var v=Ue();v.value=(v.__value="Skip")==null?"":"Skip",c(s,v)};N(x,s=>{var v;(((v=t.setting)==null?void 0:v.maxSkip)??0)>0&&s(w)})}var o=n(x,2);o.value=(o.__value="Over")==null?"":"Over",c(i,g)};N(X,i=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?i(B):i(C,!1)})}a(q);var V=n(q,2);V.__click=[We,t,Y,Q];var at=r(V);rt(at,"icon","mdi:send"),vt(),a(V),a(I);var z=n(I,2),H=r(z);a(z),K((i,g)=>{var x;ut(j,"style",`--value:${i??""};`),ut(j,"aria-label",g),m(R,i),Mt(H,t.remain!==null?t.remain/(((x=t.setting)==null?void 0:x.actionTimeout)??6e4)*100:0)},[()=>Math.floor((t.remain?t.remain%6e4:0)/1e3),()=>Math.floor((t.remain?t.remain%6e4:0)/1e3).toString()]),c(k,f)};N(Z,k=>{var f;(f=h(tt))!=null&&f.display.largeScale?k(u):k(D,!1)})}a(T),c(e,T),Ot(),A()}te(["click","keydown"]);var Ce=_('<pre class="bg-primary text-primary-content text-3xl font-bold text-center my-2"> </pre>'),Ge=_('<div class="bg-info text-info-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Ye=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Ze=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Be=_('<div class="bg-success text-success-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),ze=_('<h2 class="text-2xl font-bold text-center my-2">霊能結果</h2> <!>',1),Qe=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Xe=_('<div class="bg-success text-success-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),$e=_('<h2 class="text-2xl font-bold text-center my-2">占い結果</h2> <!>',1),ta=_('<pre class="text-5xl font-bold text-center"> </pre> <pre class="text-3xl text-center my-2"> </pre> <!> <!> <!> <!>',1),ea=_('<pre class="text-lg text-center"> </pre>'),aa=_('<div class="bg-info text-info-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ra=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),na=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),sa=_('<div class="bg-success text-success-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ia=_('<h2 class="text-lg font-bold pt-2">霊能結果</h2> <!>',1),oa=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),la=_('<div class="bg-success text-success-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ca=_('<h2 class="text-lg font-bold pt-2">占い結果</h2> <!>',1),va=_('<h2 class="text-xl font-bold pb-2">エージェント</h2> <div class="grow overflow-y-auto pr-4"><div class="flex justify-around"><div><h2 class="text-lg font-bold text-center">役職</h2> <pre class="text-lg text-center"> </pre></div> <div><h2 class="text-lg font-bold text-center">日数</h2> <pre class="text-lg text-center"> </pre></div> <div><h2 class="text-lg font-bold text-center">リクエスト</h2> <!></div></div> <h2 class="text-lg font-bold pt-2">ステータス</h2> <!> <!> <!></div>',1),ua=_('<div class="flex-[0_0_400px] rounded-lg bg-base-200"><div class="flex flex-col h-full p-4"><!></div></div>');function da(e,t){Tt(t,!0);let l=ht(void 0);Rt(()=>{const E=mt.subscribe(p=>{bt(l,At(p))});Dt(E)});var A=ua(),Y=r(A),tt=r(Y);{var Q=E=>{var p=ta(),T=U(p),Z=r(T,!0);a(T);var u=n(T,2),D=r(u,!0);a(u);var k=n(u,2);{var f=R=>{var P=Ce(),F=r(P,!0);a(P),K(()=>m(F,St[t.request])),c(R,P)};N(k,R=>{t.request!==null&&R(f)})}var I=n(k,2);dt(I,17,()=>Object.entries(t.info.statusMap??{}),ft,(R,P)=>{let F=()=>h(P)[0],J=()=>h(P)[1];var O=ot(),q=U(O);{var X=C=>{var V=Ge(),at=r(V),z=r(at,!0);a(at);var H=n(at,2),i=r(H,!0);a(H);var g=n(H,2),x=r(g,!0);a(g),a(V),K(()=>{m(z,F()),m(i,wt[(t.info.roleMap??{})[F()]]??""),m(x,jt[J()])}),c(C,V)},B=C=>{var V=Ye(),at=r(V),z=r(at,!0);a(at);var H=n(at,2),i=r(H,!0);a(H);var g=n(H,2),x=r(g);a(g),a(V),K(w=>{m(z,F()),m(i,wt[(t.info.roleMap??{})[F()]]??""),m(x,`${jt[J()]??""}${w??""}`)},[()=>t.executedAgents.includes(F())?" (追放)":t.attackedAgents.includes(F())?" (襲撃)":""]),c(C,V)};N(q,C=>{J()===kt.ALIVE?C(X):C(B,!1)})}c(R,O)});var M=n(I,2);{var W=R=>{var P=ze(),F=n(U(P),2);dt(F,17,()=>t.mediumResults,ft,(J,O)=>{let q=()=>h(O).day,X=()=>h(O).target,B=()=>h(O).result;var C=ot(),V=U(C);{var at=H=>{var i=Ze(),g=r(i),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var s=n(w,2),v=r(s,!0);a(s),a(i),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pt[B()])}),c(H,i)},z=H=>{var i=Be(),g=r(i),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var s=n(w,2),v=r(s,!0);a(s),a(i),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pt[B()])}),c(H,i)};N(V,H=>{B()!==Nt.HUMAN?H(at):H(z,!1)})}c(J,C)}),c(R,P)};N(M,R=>{t.mediumResults.length>0&&R(W)})}var S=n(M,2);{var j=R=>{var P=$e(),F=n(U(P),2);dt(F,17,()=>t.divineResults,ft,(J,O)=>{let q=()=>h(O).day,X=()=>h(O).target,B=()=>h(O).result;var C=ot(),V=U(C);{var at=H=>{var i=Qe(),g=r(i),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var s=n(w,2),v=r(s,!0);a(s),a(i),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pt[B()])}),c(H,i)},z=H=>{var i=Xe(),g=r(i),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var s=n(w,2),v=r(s,!0);a(s),a(i),K(()=>{m(x,X()),m(o,`(${q()??""}日目)`),m(v,pt[B()])}),c(H,i)};N(V,H=>{B()!==Nt.HUMAN?H(at):H(z,!1)})}c(J,C)}),c(R,P)};N(S,R=>{t.divineResults.length>0&&R(j)})}K(()=>{m(Z,t.role!==null?wt[t.role]:"ゲーム外"),m(D,t.info!==null?t.info.day+"日目":"ゲーム外")}),c(E,p)},et=E=>{var p=va(),T=n(U(p),2),Z=r(T),u=r(Z),D=n(r(u),2),k=r(D,!0);a(D),a(u);var f=n(u,2),I=n(r(f),2),M=r(I,!0);a(I),a(f);var W=n(f,2),S=n(r(W),2);{var j=q=>{var X=ea(),B=r(X,!0);a(X),K(()=>m(B,St[t.request])),c(q,X)};N(S,q=>{t.request!==null&&q(j)})}a(W),a(Z);var R=n(Z,4);dt(R,17,()=>Object.entries(t.info.statusMap??{}),ft,(q,X)=>{let B=()=>h(X)[0],C=()=>h(X)[1];var V=ot(),at=U(V);{var z=i=>{var g=aa(),x=r(g),w=r(x,!0);a(x);var o=n(x,2),s=r(o,!0);a(o);var v=n(o,2),y=r(v,!0);a(v),a(g),K(()=>{m(w,B()),m(s,wt[(t.info.roleMap??{})[B()]]??""),m(y,jt[C()])}),c(i,g)},H=i=>{var g=ra(),x=r(g),w=r(x,!0);a(x);var o=n(x,2),s=r(o,!0);a(o);var v=n(o,2),y=r(v);a(v),a(g),K(b=>{m(w,B()),m(s,wt[(t.info.roleMap??{})[B()]]??""),m(y,`${jt[C()]??""}${b??""}`)},[()=>t.executedAgents.includes(B())?" (追放)":t.attackedAgents.includes(B())?" (襲撃)":""]),c(i,g)};N(at,i=>{C()===kt.ALIVE?i(z):i(H,!1)})}c(q,V)});var P=n(R,2);{var F=q=>{var X=ia(),B=n(U(X),2);dt(B,17,()=>t.mediumResults,ft,(C,V)=>{let at=()=>h(V).day,z=()=>h(V).target,H=()=>h(V).result;var i=ot(),g=U(i);{var x=o=>{var s=na(),v=r(s),y=r(v,!0);a(v);var b=n(v,2),d=r(b);a(b);var L=n(b,2),G=r(L,!0);a(L),a(s),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[H()])}),c(o,s)},w=o=>{var s=sa(),v=r(s),y=r(v,!0);a(v);var b=n(v,2),d=r(b);a(b);var L=n(b,2),G=r(L,!0);a(L),a(s),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[H()])}),c(o,s)};N(g,o=>{H()!==Nt.HUMAN?o(x):o(w,!1)})}c(C,i)}),c(q,X)};N(P,q=>{t.mediumResults.length>0&&q(F)})}var J=n(P,2);{var O=q=>{var X=ca(),B=n(U(X),2);dt(B,17,()=>t.divineResults,ft,(C,V)=>{let at=()=>h(V).day,z=()=>h(V).target,H=()=>h(V).result;var i=ot(),g=U(i);{var x=o=>{var s=oa(),v=r(s),y=r(v,!0);a(v);var b=n(v,2),d=r(b);a(b);var L=n(b,2),G=r(L,!0);a(L),a(s),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[H()])}),c(o,s)},w=o=>{var s=la(),v=r(s),y=r(v,!0);a(v);var b=n(v,2),d=r(b);a(b);var L=n(b,2),G=r(L,!0);a(L),a(s),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[H()])}),c(o,s)};N(g,o=>{H()!==Nt.HUMAN?o(x):o(w,!1)})}c(C,i)}),c(q,X)};N(J,q=>{t.divineResults.length>0&&q(O)})}a(T),K(()=>{m(k,t.role!==null?wt[t.role]:"ゲーム外"),m(M,t.info!==null?t.info.day+"日目":"ゲーム外")}),c(E,p)};N(tt,E=>{var p;(p=h(l))!=null&&p.display.largeScale?E(Q):E(et,!1)})}a(Y),a(A),c(e,A),Ot()}function fa(){Et.connect()}function _a(){Et.disconnect()}var ga=_('<div class="status status-success animate-ping"></div> <div class="status status-success"></div>',1),ma=_('<div class="status status-warning animate-ping"></div> <div class="status status-warning"></div>',1),xa=_('<div class="status status-error"></div>'),ba=(e,t)=>t("connection.url",e.currentTarget.value),pa=(e,t)=>t("connection.token",e.currentTarget.value),ya=(e,t)=>t("team",e.currentTarget.value),ha=(e,t)=>t("display.largeScale",e.currentTarget.checked),Aa=_('<div class="navbar bg-base-100 flex justify-start gap-4 overflow-x-auto"><h1 class="text-3xl font-bold text-nowrap ml-2">aiwolf-nlp-viewer</h1> <div class="ml-auto"><div class="inline-grid *:[grid-area:1/1]"><!></div></div> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="WebSocket URL"></label> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="Authorization Key"> <span class="badge badge-neutral badge-xs">Optional</span></label> <button class="btn btn-info">接続</button> <button class="btn btn-error">切断</button> <button class="btn">設定</button> <dialog class="modal"><div class="modal-box"><div class="form-control my-2"><h3 class="text-lg font-bold">エージェント設定</h3> <h4 class="text-base font-bold mt-2">チーム名</h4> <label class="input min-w-3xs w-3xs my-2"><iconify-icon></iconify-icon> <input type="text" class="grow"></label> <h3 class="text-lg font-bold mt-4">表示設定</h3> <h4 class="text-base font-bold mt-2">大画面向け</h4> <label class="label cursor-pointer my-2"><span class="label-text">有効</span> <input type="checkbox" class="checkbox"></label></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog> <label class="flex items-center cursor-pointer gap-2"><iconify-icon></iconify-icon> <input type="checkbox" value="dark" class="toggle theme-controller"> <iconify-icon></iconify-icon></label></div>',2);function ka(e,t){Tt(t,!0);let l=ht(void 0),A=ht(void 0);const Y=mt.subscribe(i=>{bt(l,At(i))}),tt=Et.subscribe(i=>{bt(A,At(i.status))});Dt(()=>{Y(),tt()});function Q(i,g){mt.update(x=>{const w=i.split("."),o=w.pop();let s=x;for(const v of w)v&&(s=s[v]);return s[o]=g,{...x}})}let et;var E=Aa(),p=n(r(E),2),T=r(p),Z=r(T);{var u=i=>{var g=ga();vt(2),c(i,g)},D=i=>{var g=ot(),x=U(g);{var w=s=>{var v=ma();vt(2),c(s,v)},o=s=>{var v=xa();c(s,v)};N(x,s=>{h(A)==="connecting"?s(w):s(o,!1)},!0)}c(i,g)};N(Z,i=>{h(A)==="connected"?i(u):i(D,!1)})}a(T),a(p);var k=n(p,2),f=r(k);rt(f,"class","h-[1em] opacity-50"),rt(f,"inline",!0),rt(f,"icon","mdi:link");var I=n(f,2);yt(I),I.__input=[ba,Q],a(k);var M=n(k,2),W=r(M);rt(W,"class","h-[1em] opacity-50"),rt(W,"inline",!0),rt(W,"icon","mdi:key");var S=n(W,2);yt(S),S.__input=[pa,Q],vt(2),a(M);var j=n(M,2);j.__click=[fa];var R=n(j,2);R.__click=[_a];var P=n(R,2);P.__click=()=>et.showModal();var F=n(P,2),J=r(F),O=r(J),q=n(r(O),4),X=r(q);rt(X,"class","h-[1em] opacity-50"),rt(X,"inline",!0),rt(X,"icon","mdi:rename");var B=n(X,2);yt(B),B.__input=[ya,Q],a(q);var C=n(q,6),V=n(r(C),2);yt(V),V.__change=[ha,Q],a(C),a(O),a(J),vt(2),a(F),Jt(F,i=>et=i,()=>et);var at=n(F,2),z=r(at);rt(z,"inline",!0),rt(z,"icon","mdi:white-balance-sunny");var H=n(z,4);rt(H,"inline",!0),rt(H,"icon","mdi:moon-and-stars"),a(at),a(E),K(()=>{var i,g,x,w;Mt(I,(i=h(l))==null?void 0:i.connection.url),Mt(S,(g=h(l))==null?void 0:g.connection.token),j.disabled=h(A)!=="disconnected",R.disabled=h(A)==="disconnected",Mt(B,(x=h(l))==null?void 0:x.team),Wt(V,(w=h(l))==null?void 0:w.display.largeScale)}),c(e,E),Ot()}te(["input","click","change"]);var wa=_("<iconify-icon></iconify-icon>",2),Ia=_("<iconify-icon></iconify-icon>",2),Sa=_('<div class="chat-bubble bg-base-100 text-xl text-pretty break-all"> </div>'),Ea=_('<div class="chat-image avatar"><div class="w-20 rounded-full"><img></div></div> <pre class="chat-header text-lg"> </pre> <!> <pre class="chat-footer opacity-50 text-sm"> </pre>',1),Ta=_("<iconify-icon></iconify-icon>",2),Oa=_("<iconify-icon></iconify-icon>",2),Da=_('<div class="chat-bubble bg-base-100 text-pretty break-all"> </div>'),Na=_('<div class="chat-image avatar"><div class="w-10 rounded-full"><img></div></div> <pre class="chat-header"> </pre> <!> <pre class="chat-footer opacity-50"> </pre>',1),Ma=_('<div class="chat chat-start"><!></div>');function Qt(e,t){Tt(t,!0);let l=ht(void 0);Rt(()=>{const et=mt.subscribe(E=>{bt(l,At(E))});Dt(et)});var A=Ma(),Y=r(A);{var tt=et=>{var E=Ea(),p=U(E),T=r(p),Z=r(T);a(T),a(p);var u=n(p,2),D=r(u,!0);a(u);var k=n(u,2);{var f=S=>{var j=wa();rt(j,"inline",!0),rt(j,"icon","mdi:skip-forward"),c(S,j)},I=S=>{var j=ot(),R=U(j);{var P=J=>{var O=Ia();rt(O,"inline",!0),rt(O,"icon","mdi:arrow-u-down-right-bold"),c(J,O)},F=J=>{var O=Sa(),q=r(O,!0);a(O),K(()=>m(q,t.talk.text)),c(J,O)};N(R,J=>{t.talk.skip?J(P):J(F,!1)},!0)}c(S,j)};N(k,S=>{t.talk.over?S(f):S(I,!1)})}var M=n(k,2),W=r(M);a(M),K(S=>{ut(Z,"src",`${Yt??""}/images/male/${S??""}.png`),ut(Z,"alt",t.talk.agent),m(D,t.talk.agent),m(W,`Idx: ${t.talk.idx??""}`)},[()=>{var S;return Number((S=t.talk.agent.match(/Agent\[(\d+)\]/))==null?void 0:S[1]).toString().padStart(2,"0")}]),c(et,E)},Q=et=>{var E=Na(),p=U(E),T=r(p),Z=r(T);a(T),a(p);var u=n(p,2),D=r(u,!0);a(u);var k=n(u,2);{var f=S=>{var j=Ta();rt(j,"inline",!0),rt(j,"icon","mdi:skip-forward"),c(S,j)},I=S=>{var j=ot(),R=U(j);{var P=J=>{var O=Oa();rt(O,"inline",!0),rt(O,"icon","mdi:arrow-u-down-right-bold"),c(J,O)},F=J=>{var O=Da(),q=r(O,!0);a(O),K(()=>m(q,t.talk.text)),c(J,O)};N(R,J=>{t.talk.skip?J(P):J(F,!1)},!0)}c(S,j)};N(k,S=>{t.talk.over?S(f):S(I,!1)})}var M=n(k,2),W=r(M);a(M),K(S=>{ut(Z,"src",`${Yt??""}/images/male/${S??""}.png`),ut(Z,"alt",t.talk.agent),m(D,t.talk.agent),m(W,`Idx: ${t.talk.idx??""}`)},[()=>{var S;return Number((S=t.talk.agent.match(/Agent\[(\d+)\]/))==null?void 0:S[1]).toString().padStart(2,"0")}]),c(et,E)};N(Y,et=>{var E;(E=h(l))!=null&&E.display.largeScale?et(tt):et(Q,!1)})}a(A),c(e,A),Ot()}var Ra=_('<input type="radio" name="talk_days" class="tab text-lg font-bold"> <div class="tab-content my-4"></div>',1),La=_('<div class="tabs tabs-border"></div>'),ja=_('<h2 class="text-3xl font-bold pb-2"> </h2> <div class="grow overflow-y-auto pr-4"><!></div>',1),Ha=_('<input type="radio" name="talk_days" class="tab"> <div class="tab-content my-4"></div>',1),qa=_('<div class="tabs tabs-border"></div>'),Va=_('<h2 class="text-xl font-bold pb-2"> </h2> <div class="grow overflow-y-auto pr-4"><!></div>',1),Ua=_('<div class="flex-[0_0_600px] rounded-lg bg-base-200"><div class="flex flex-col h-full p-4"><!></div></div>');function Xt(e,t){Tt(t,!0);let l=ht(void 0);Rt(()=>{const E=mt.subscribe(p=>{bt(l,At(p))});Dt(E)});var A=Ua(),Y=r(A),tt=r(Y);{var Q=E=>{var p=ja(),T=U(p),Z=r(T,!0);a(T);var u=n(T,2),D=r(u);{var k=f=>{var I=La();const M=Ct(()=>[...new Set(t.talks.map(W=>W.day))].sort((W,S)=>S-W));dt(I,21,()=>h(M),ft,(W,S)=>{var j=Ra(),R=U(j);yt(R);var P=n(R,2);dt(P,21,()=>t.talks.filter(F=>F.day===h(S)),ft,(F,J)=>{Qt(F,{get talk(){return h(J)}})}),a(P),K(()=>{Wt(R,h(S)===h(M)[0]),ut(R,"aria-label",`${h(S)}日目`)}),c(W,j)}),a(I),c(f,I)};N(D,f=>{t.talks.length>0&&f(k)})}a(u),K(()=>m(Z,t.header)),c(E,p)},et=E=>{var p=Va(),T=U(p),Z=r(T,!0);a(T);var u=n(T,2),D=r(u);{var k=f=>{var I=qa();const M=Ct(()=>[...new Set(t.talks.map(W=>W.day))].sort((W,S)=>S-W));dt(I,21,()=>h(M),ft,(W,S)=>{var j=Ha(),R=U(j);yt(R);var P=n(R,2);dt(P,21,()=>t.talks.filter(F=>F.day===h(S)),ft,(F,J)=>{Qt(F,{get talk(){return h(J)}})}),a(P),K(()=>{Wt(R,h(S)===h(M)[0]),ut(R,"aria-label",`${h(S)}日目`)}),c(W,j)}),a(I),c(f,I)};N(D,f=>{t.talks.length>0&&f(k)})}a(u),K(()=>m(Z,t.header)),c(E,p)};N(tt,E=>{var p;(p=h(l))!=null&&p.display.largeScale?E(Q):E(et,!1)})}a(Y),a(A),c(e,A),Ot()}var Fa=_('<div class="overflow-y-hidden flex grow overflox-x-auto gap-4 p-4"><!> <!> <!></div> <!>',1),Wa=_('<div class="flex items-center justify-center h-full"><pre class="base-content text-9xl font-bold opacity-70 select-none">未接続</pre></div>'),Ja=_('<div role="alert" class="alert m-4"><span class="text-lg font-bold">未接続</span></div>'),Ka=_('<main class="h-screen flex flex-col bg-base-300"><!> <!></main>');function or(e,t){Tt(t,!0);const[l,A]=$t(),Y=()=>ct(W,"$deadline",l),tt=()=>ct(M,"$status",l),Q=()=>ct(P,"$info",l),et=()=>ct(j,"$role",l),E=()=>ct(R,"$request",l),p=()=>ct(F,"$mediumResults",l),T=()=>ct(J,"$divineResults",l),Z=()=>ct(B,"$executedAgents",l),u=()=>ct(C,"$attackedAgents",l),D=()=>ct(q,"$talkHistory",l),k=()=>ct(X,"$whisperHistory",l),f=()=>ct(V,"$remain",l),I=()=>ct(O,"$setting",l),M=it(""),W=it(null),S=it([]),j=it(null),R=it(null),P=it(null),F=it([]),J=it([]),O=it(null),q=it([]),X=it([]),B=it([]),C=it([]),V=it(null);let at=ht(void 0),z;function H(){{const y=oe.url.searchParams,b=y.get("url"),d=y.get("token");b&&(mt.update(L=>({...L,connection:{url:b??"",token:d??""}})),Et.connect())}}function i(){if(Y()!==null){const y=Date.now(),b=Math.max(0,Y()-y);V.set(b),b>0?z=requestAnimationFrame(i):V.set(0)}return()=>{z&&cancelAnimationFrame(z)}}Rt(()=>{H();const y=Et.subscribe(d=>{M.set(d.status),d.deadline?(W.set(d.deadline.getTime()),z&&cancelAnimationFrame(z),z=requestAnimationFrame(i)):(W.set(null),V.set(null)),S.set(d.entries),j.set(d.role),R.set(d.request),P.set(d.info),F.set(d.mediumResults),J.set(d.divineResults),O.set(d.setting),q.set(d.talkHistory),X.set(d.whisperHistory),B.set(d.executedAgents),C.set(d.attackedAgents)}),b=mt.subscribe(d=>{bt(at,At(d))});Dt(()=>{y(),b(),z&&cancelAnimationFrame(z)}),window.addEventListener("beforeunload",d=>{tt()==="connected"&&d.preventDefault()}),window.addEventListener("popstate",d=>{tt()==="connected"&&d.preventDefault()})});function g(y){Et.send(y)}var x=Ka();ie(y=>{se.title="aiwolf-nlp-viewer"});var w=r(x);ka(w,{});var o=n(w,2);{var s=y=>{var b=Fa(),d=U(b),L=r(d);da(L,{get role(){return et()},get request(){return E()},get info(){return Q()},get mediumResults(){return p()},get divineResults(){return T()},get executedAgents(){return Z()},get attackedAgents(){return u()}});var G=n(L,2);Xt(G,{header:"トーク履歴",get talks(){return D()}});var nt=n(G,2);{var st=_t=>{Xt(_t,{header:"囁き履歴",get talks(){return k()}})};N(nt,_t=>{et()===ee.WEREWOLF&&_t(st)})}a(d);var gt=n(d,2);{var lt=_t=>{Pe(_t,{get remain(){return f()},get setting(){return I()},get request(){return E()},get info(){return Q()},onSendMessage:g})};N(gt,_t=>{f()!==null&&_t(lt)})}c(y,b)},v=y=>{var b=ot(),d=U(b);{var L=nt=>{var st=Wa();c(nt,st)},G=nt=>{var st=Ja();c(nt,st)};N(d,nt=>{var st;(st=h(at))!=null&&st.display.largeScale?nt(L):nt(G,!1)},!0)}c(y,b)};N(o,y=>{Q()!==null?y(s):y(v,!1)})}a(x),c(e,x),Ot(),A()}export{or as component};
