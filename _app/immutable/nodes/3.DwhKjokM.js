var ae=Object.defineProperty;var re=(e,t,l)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var Vt=(e,t,l)=>re(e,typeof t!="symbol"?t+"":t,l);import{t as _,a as c,c as ot}from"../chunks/KF065-Of.js";import{e as Ft,u as ne,p as Tt,i as bt,aG as ht,c as r,d as h,r as a,a as Ot,f as F,s as n,aI as vt,t as K,h as Ct,$ as ie}from"../chunks/WljbgmZ9.js";import{h as se}from"../chunks/DvJjqZJ0.js";import{i as N}from"../chunks/CGvRluNl.js";import{p as kt}from"../chunks/RnHXTejU.js";import{a as $t,s as ct,b as Ht}from"../chunks/DfkBhsIr.js";import{p as oe}from"../chunks/JSrTUKfz.js";import{w as st}from"../chunks/DSmV8dyb.js";import{o as Lt,a as Dt}from"../chunks/DqW53znk.js";/* empty css                */import{d as te,s as m}from"../chunks/Czb08BA8.js";import{e as dt,i as ft}from"../chunks/BOY3IeON.js";import{r as yt,s as rt,a as ut,c as Rt,d as Wt}from"../chunks/k-SCwr8L.js";import{b as Gt}from"../chunks/CtCSW0CW.js";import{b as Jt}from"../chunks/C28Vk92-.js";import{b as Yt}from"../chunks/CrzvCXTL.js";function Zt(e,t,l){Ft(()=>{var k=ne(()=>t(e,l==null?void 0:l())||{});if(k!=null&&k.destroy)return()=>k.destroy()})}class Kt{static fromJson(t){return ve(JSON.parse(t),qt("AgentSettings"))}static toJson(t){return JSON.stringify(ue(t,qt("AgentSettings")),null,2)}}function xt(e,t,l,k=""){const Y=Pt(e),tt=k?` on ${k}`:"",Q=l?` for key "${l}"`:"";throw Error(`Invalid value${Q}${tt}. Expected ${Y} but got ${JSON.stringify(t)}`)}function Pt(e){return Array.isArray(e)?e.length===2&&e[0]===void 0?`an optional ${Pt(e[1])}`:`one of [${e.map(t=>Pt(t)).join(", ")}]`:typeof e=="object"&&e.literal!==void 0?e.literal:typeof e}function le(e){if(e.jsonToJS===void 0){const t={};e.props.forEach(l=>t[l.json]={key:l.js,typ:l.typ}),e.jsonToJS=t}return e.jsonToJS}function ce(e){if(e.jsToJSON===void 0){const t={};e.props.forEach(l=>t[l.js]={key:l.json,typ:l.typ}),e.jsToJSON=t}return e.jsToJSON}function It(e,t,l,k="",Y=""){function tt(u,D){return typeof u==typeof D?D:xt(u,D,k,Y)}function Q(u,D){const A=u.length;for(let f=0;f<A;f++){const I=u[f];try{return It(D,I,l)}catch{}}return xt(u,D,k,Y)}function et(u,D){return u.indexOf(D)!==-1?D:xt(u.map(A=>jt(A)),D,k,Y)}function E(u,D){return Array.isArray(D)?D.map(A=>It(A,u,l)):xt(jt("array"),D,k,Y)}function b(u){if(u===null)return null;const D=new Date(u);return isNaN(D.valueOf())?xt(jt("Date"),u,k,Y):D}function T(u,D,A){if(A===null||typeof A!="object"||Array.isArray(A))return xt(jt(Z||"object"),A,k,Y);const f={};return Object.getOwnPropertyNames(u).forEach(I=>{const R=u[I],W=Object.prototype.hasOwnProperty.call(A,I)?A[I]:void 0;f[R.key]=It(W,R.typ,l,I,Z)}),Object.getOwnPropertyNames(A).forEach(I=>{Object.prototype.hasOwnProperty.call(u,I)||(f[I]=It(A[I],D,l,I,Z))}),f}if(t==="any")return e;if(t===null)return e===null?e:xt(t,e,k,Y);if(t===!1)return xt(t,e,k,Y);let Z;for(;typeof t=="object"&&t.ref!==void 0;)Z=t.ref,t=de[t.ref];return Array.isArray(t)?et(t,e):typeof t=="object"?t.hasOwnProperty("unionMembers")?Q(t.unionMembers,e):t.hasOwnProperty("arrayItems")?E(t.arrayItems,e):t.hasOwnProperty("props")?T(l(t),t.additional,e):xt(t,e,k,Y):t===Date&&typeof e!="number"?b(e):tt(t,e)}function ve(e,t){return It(e,t,le)}function ue(e,t){return It(e,t,ce)}function jt(e){return{literal:e}}function Ut(e,t){return{props:e,additional:t}}function qt(e){return{ref:e}}const de={AgentSettings:Ut([{json:"connection",js:"connection",typ:qt("Connection")},{json:"team",js:"team",typ:""},{json:"display",js:"display",typ:qt("Display")}],!1),Connection:Ut([{json:"url",js:"url",typ:""},{json:"token",js:"token",typ:""}],!1),Display:Ut([{json:"largeScale",js:"largeScale",typ:!0}],!1)},Bt={connection:{url:"ws://localhost:8080/ws",token:""},team:"aiwolf-nlp-viewer",display:{largeScale:!1}};function fe(){const e=localStorage.getItem("agent-settings");if(e)try{return Kt.fromJson(e)}catch(t){console.error(t)}return localStorage.setItem("agent-settings",Kt.toJson(Bt)),Bt}const mt=st(fe());mt.subscribe(e=>{localStorage.setItem("agent-settings",Kt.toJson(e))});var $=(e=>(e.NAME="NAME",e.TALK="TALK",e.WHISPER="WHISPER",e.VOTE="VOTE",e.DIVINE="DIVINE",e.GUARD="GUARD",e.ATTACK="ATTACK",e.INITIALIZE="INITIALIZE",e.DAILY_INITIALIZE="DAILY_INITIALIZE",e.DAILY_FINISH="DAILY_FINISH",e.FINISH="FINISH",e))($||{});const St={NAME:"名前",TALK:"トーク",WHISPER:"囁き",VOTE:"投票",DIVINE:"占い",GUARD:"護衛",ATTACK:"襲撃",INITIALIZE:"ゲーム開始",DAILY_INITIALIZE:"昼開始",DAILY_FINISH:"昼終了",FINISH:"ゲーム終了"};var Nt=(e=>(e.HUMAN="HUMAN",e.WEREWOLF="WEREWOLF",e))(Nt||{});const pt={HUMAN:"人間",WEREWOLF:"人狼"};var At=(e=>(e.ALIVE="ALIVE",e.DEAD="DEAD",e))(At||{});const Mt={ALIVE:"生存",DEAD:"死亡"};var ee=(e=>(e.WEREWOLF="WEREWOLF",e.POSSESSED="POSSESSED",e.SEER="SEER",e.BODYGUARD="BODYGUARD",e.VILLAGER="VILLAGER",e.MEDIUM="MEDIUM",e))(ee||{});const wt={WEREWOLF:"人狼",POSSESSED:"狂人",SEER:"占い師",BODYGUARD:"騎士",VILLAGER:"村人",MEDIUM:"霊媒師"};function _e(){const{subscribe:e,update:t}=st({status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[],executedAgents:[],attackedAgents:[]});let l=null,k=null,Y=null,tt=null;mt.subscribe(b=>{k=b});function Q(){l&&(l.close(),l=null,t(b=>({...b,status:"disconnected"}))),tt&&(tt.clear(),tt=null)}function et(){if(!k)return;l&&t(T=>({...T,status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[],executedAgents:[],attackedAgents:[]})),t(T=>({...T,status:"connecting"}));const b=new URL(k.connection.url);k.connection.token&&b.searchParams.set("token",k.connection.token),l=new WebSocket(b),l.onopen=()=>{t(T=>({...T,status:"connected"}))},l.onclose=()=>{Q()},l.onerror=()=>{Q()},l.onmessage=T=>{try{const Z=Date.now(),u=JSON.parse(T.data);switch(t(D=>{const A=D.entries.slice();A.push(u);const f={...D,entries:A,request:u.request};if(u.info){if(f.info=u.info,u.info.medium_result){const I=u.info.medium_result;f.mediumResults.findIndex(R=>R.day===I.day&&R.agent===I.agent)<0&&f.mediumResults.push(u.info.medium_result)}if(u.info.divine_result){const I=u.info.divine_result;f.divineResults.findIndex(R=>R.day===I.day&&R.agent===I.agent)<0&&f.divineResults.push(u.info.divine_result)}u.info.executed_agent&&f.executedAgents.push(u.info.executed_agent),u.info.attacked_agent&&f.attackedAgents.push(u.info.attacked_agent)}return u.setting&&(f.setting=u.setting,Y=u.setting.timeout.action),u.talk_history&&f.talkHistory.push(...u.talk_history),u.whisper_history&&f.whisperHistory.push(...u.whisper_history),u.request===$.INITIALIZE&&f.info&&f.info.role_map&&f.info.agent&&(f.role=f.info.role_map[f.info.agent]),f}),u.request){case $.NAME:E((k==null?void 0:k.team)||"viewer"+Math.floor(Math.random()*1e3));break;case $.TALK:case $.WHISPER:case $.VOTE:case $.DIVINE:case $.GUARD:case $.ATTACK:tt&&tt.clear(),tt=new ge(()=>{E("TIMEOUT")},new Date(Z+(Y??6e4))),t(D=>({...D,deadline:(tt==null?void 0:tt.deadline())??null}));break;case $.FINISH:Q();break}}catch(Z){console.error("Failed to parse message:",Z)}}}function E(b){if(tt&&(tt.clear(),tt=null,t(T=>({...T,deadline:null}))),l&&l.readyState===WebSocket.OPEN)try{l.send(b),t(T=>{const Z=T.entries.slice();return Z.push(b),{...T,entries:Z}})}catch(T){console.error("Failed to send message:",T)}}return{subscribe:e,connect:et,disconnect:Q,send:E}}const Et=_e();class ge{constructor(t,l){Vt(this,"timeout");Vt(this,"_deadline");this.timeout=setTimeout(t,l.getTime()-new Date().getTime()),this._deadline=l}deadline(){return this._deadline}clear(){clearTimeout(this.timeout)}}function zt(e,t,l,k){e.key==="Enter"&&(e.preventDefault(),(e.ctrlKey||e.metaKey)&&t.onSendMessage(l()))}var me=_('<span aria-live="polite"> </span>m',1),xe=_('<span class="bg-primary text-primary-content w-full py-2 text-3xl font-bold text-nowrap text-center"> </span>'),be=_('<span class="bg-primary text-primary-content w-full py-2 text-3xl font-bold text-nowrap text-center"> </span>'),pe=(e,t,l)=>t(l()),ye=_('<button class="btn btn-xl"> </button>'),he=(e,t)=>t("Skip"),ke=_('<button class="btn btn-xl" aria-label="Skip"><iconify-icon></iconify-icon> SKIP</button>',2),Ae=(e,t)=>t("Over"),we=_('<!> <button class="btn btn-xl" aria-label="Over"><iconify-icon></iconify-icon> OVER</button>',3),Ie=_("<option></option>"),Se=_("<option></option>"),Ee=_("<!> <option></option>",1),Te=(e,t,l,k)=>t.onSendMessage(l()),Oe=_('<div class="flex gap-2 items-center px-4 pt-4 pb-4 overflow-x-auto"><span class="countdown font-mono text-3xl"><!> <span aria-live="polite"> </span>s</span> <!></div> <div class="flex gap-2 items-center px-4 pt-2 pb-4 overflow-x-auto"><!> <input type="text" class="input input-xl min-w-64 flex-1" list="suggests"> <datalist id="suggests"><!></datalist> <button class="btn btn-xl" aria-label="Send"><iconify-icon></iconify-icon> 送信</button></div> <div class="-mt-2 mx-4 mb-2"><progress class="progress" max="100"></progress></div>',3),De=_('<span aria-live="polite"> </span>m',1),Ne=(e,t,l)=>t(l()),Re=_('<button class="btn"> </button>'),Le=_('<span class="bg-primary text-primary-content text-lg font-bold text-nowrap"> </span> <!>',1),je=(e,t)=>t("Skip"),Me=_('<button class="btn" aria-label="Skip"><iconify-icon></iconify-icon> SKIP</button>',2),qe=(e,t)=>t("Over"),Ve=_('<span class="bg-primary text-primary-content text-lg font-bold text-nowrap"> </span> <!> <button class="btn" aria-label="Over"><iconify-icon></iconify-icon> OVER</button>',3),He=_("<option></option>"),Ue=_("<option></option>"),Fe=_("<!> <option></option>",1),We=(e,t,l,k)=>t.onSendMessage(l()),Je=_('<div class="flex gap-2 items-center p-4 overflow-x-auto"><span class="countdown font-mono text-2xl"><!> <span aria-live="polite"> </span>s</span> <!> <input type="text" class="input min-w-64 flex-1" list="suggests"> <datalist id="suggests"><!></datalist> <button class="btn" aria-label="Send"><iconify-icon></iconify-icon> 送信</button></div> <div class="-mt-2 mx-4 mb-2"><progress class="progress" max="100"></progress></div>',3),Ke=_('<form class="flex-none bg-base-200" data-sveltekit-keepfocus=""><!></form>');function Pe(e,t){Tt(t,!0);const[l,k]=$t(),Y=()=>ct(Q,"$message",l);let tt=ht(void 0);Lt(()=>{const A=mt.subscribe(f=>{bt(tt,kt(f))});Dt(A)});const Q=st("");function et(A){var f;Ht(Q,kt(A)),(f=h(E))==null||f.focus()}let E=ht(null);function b(A){A.focus()}var T=Ke(),Z=r(T);{var u=A=>{var f=Oe(),I=F(f),R=r(I),W=r(R);{var S=o=>{var i=me(),v=F(i),y=r(v,!0);a(v),vt(),K((p,d)=>{ut(v,"style",`--value:${p??""};`),ut(v,"aria-label",d),m(y,p)},[()=>Math.floor(t.remain/6e4),()=>Math.floor(t.remain/6e4).toString()]),c(o,i)};N(W,o=>{t.remain&&t.remain>6e4&&o(S)})}var M=n(W,2),L=r(M,!0);a(M),vt(),a(R);var P=n(R,2);{var U=o=>{var i=xe(),v=r(i);a(i),K(()=>m(v,`${St[t.request]??""}対象を選択してください`)),c(o,i)},J=o=>{var i=be(),v=r(i);a(i),K(()=>m(v,`${St[t.request??$.INITIALIZE]??""}内容を入力してください`)),c(o,i)};N(P,o=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?o(U):o(J,!1)})}a(I);var O=n(I,2),V=r(O);{var X=o=>{var i=ot(),v=F(i);dt(v,17,()=>{var y;return Object.entries(((y=t.info)==null?void 0:y.status_map)??{})},ft,(y,p)=>{let d=()=>h(p)[0],j=()=>h(p)[1];var G=ot(),nt=F(G);{var it=gt=>{var lt=ye();lt.__click=[pe,et,d];var _t=r(lt,!0);a(lt),K(()=>m(_t,d())),c(gt,lt)};N(nt,gt=>{var lt;j()===At.ALIVE&&d()!==((lt=t.info)==null?void 0:lt.agent)&&gt(it)})}c(y,G)}),c(o,i)},B=o=>{var i=we(),v=F(i);{var y=j=>{var G=ke();G.__click=[he,et];var nt=r(G);rt(nt,"icon","mdi:arrow-u-down-right-bold"),vt(),a(G),c(j,G)};N(v,j=>{var G;(((G=t.info)==null?void 0:G.remain_skip)??0)>0&&j(y)})}var p=n(v,2);p.__click=[Ae,et];var d=r(p);rt(d,"icon","mdi:skip-forward"),vt(),a(p),c(o,i)};N(V,o=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?o(X):o(B,!1)})}var C=n(V,2);yt(C),C.__keydown=[zt,t,Y,Q],Ft(()=>Gt(C,Y,o=>Ht(Q,o))),Zt(C,o=>b==null?void 0:b(o)),Jt(C,o=>bt(E,o),()=>h(E));var H=n(C,2),at=r(H);{var z=o=>{var i=ot(),v=F(i);dt(v,17,()=>{var y;return Object.entries(((y=t.info)==null?void 0:y.status_map)??{})},ft,(y,p)=>{let d=()=>h(p)[0],j=()=>h(p)[1];var G=ot(),nt=F(G);{var it=gt=>{var lt=Ie(),_t={};K(()=>{_t!==(_t=d())&&(lt.value=(lt.__value=d())==null?"":d())}),c(gt,lt)};N(nt,gt=>{var lt;j()===At.ALIVE&&d()!==((lt=t.info)==null?void 0:lt.agent)&&gt(it)})}c(y,G)}),c(o,i)},q=o=>{var i=Ee(),v=F(i);{var y=d=>{var j=Se();j.value=(j.__value="Skip")==null?"":"Skip",c(d,j)};N(v,d=>{var j;(((j=t.info)==null?void 0:j.remain_skip)??0)>0&&d(y)})}var p=n(v,2);p.value=(p.__value="Over")==null?"":"Over",c(o,i)};N(at,o=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?o(z):o(q,!1)})}a(H);var s=n(H,2);s.__click=[Te,t,Y,Q];var g=r(s);rt(g,"icon","mdi:send"),vt(),a(s),a(O);var x=n(O,2),w=r(x);a(x),K((o,i)=>{var v;ut(M,"style",`--value:${o??""};`),ut(M,"aria-label",i),m(L,o),Rt(w,t.remain!==null?t.remain/(((v=t.setting)==null?void 0:v.timeout.action)??6e4)*100:0)},[()=>Math.floor((t.remain?t.remain%6e4:0)/1e3),()=>Math.floor((t.remain?t.remain%6e4:0)/1e3).toString()]),c(A,f)},D=A=>{var f=Je(),I=F(f),R=r(I),W=r(R);{var S=s=>{var g=De(),x=F(g),w=r(x,!0);a(x),vt(),K((o,i)=>{ut(x,"style",`--value:${o??""};`),ut(x,"aria-label",i),m(w,o)},[()=>Math.floor(t.remain/6e4),()=>Math.floor(t.remain/6e4).toString()]),c(s,g)};N(W,s=>{t.remain&&t.remain>6e4&&s(S)})}var M=n(W,2),L=r(M,!0);a(M),vt(),a(R);var P=n(R,2);{var U=s=>{var g=Le(),x=F(g),w=r(x);a(x);var o=n(x,2);dt(o,17,()=>{var i;return Object.entries(((i=t.info)==null?void 0:i.status_map)??{})},ft,(i,v)=>{let y=()=>h(v)[0],p=()=>h(v)[1];var d=ot(),j=F(d);{var G=nt=>{var it=Re();it.__click=[Ne,et,y];var gt=r(it,!0);a(it),K(()=>m(gt,y())),c(nt,it)};N(j,nt=>{var it;p()===At.ALIVE&&y()!==((it=t.info)==null?void 0:it.agent)&&nt(G)})}c(i,d)}),K(()=>m(w,`${St[t.request]??""}対象を選択してください`)),c(s,g)},J=s=>{var g=Ve(),x=F(g),w=r(x);a(x);var o=n(x,2);{var i=p=>{var d=Me();d.__click=[je,et];var j=r(d);rt(j,"icon","mdi:arrow-u-down-right-bold"),vt(),a(d),c(p,d)};N(o,p=>{var d;(((d=t.info)==null?void 0:d.remain_skip)??0)>0&&p(i)})}var v=n(o,2);v.__click=[qe,et];var y=r(v);rt(y,"icon","mdi:skip-forward"),vt(),a(v),K(()=>m(w,`${St[t.request??$.INITIALIZE]??""}内容を入力してください`)),c(s,g)};N(P,s=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?s(U):s(J,!1)})}var O=n(P,2);yt(O),O.__keydown=[zt,t,Y,Q],Ft(()=>Gt(O,Y,s=>Ht(Q,s))),Zt(O,s=>b==null?void 0:b(s)),Jt(O,s=>bt(E,s),()=>h(E));var V=n(O,2),X=r(V);{var B=s=>{var g=ot(),x=F(g);dt(x,17,()=>{var w;return Object.entries(((w=t.info)==null?void 0:w.status_map)??{})},ft,(w,o)=>{let i=()=>h(o)[0],v=()=>h(o)[1];var y=ot(),p=F(y);{var d=j=>{var G=He(),nt={};K(()=>{nt!==(nt=i())&&(G.value=(G.__value=i())==null?"":i())}),c(j,G)};N(p,j=>{var G;v()===At.ALIVE&&i()!==((G=t.info)==null?void 0:G.agent)&&j(d)})}c(w,y)}),c(s,g)},C=s=>{var g=Fe(),x=F(g);{var w=i=>{var v=Ue();v.value=(v.__value="Skip")==null?"":"Skip",c(i,v)};N(x,i=>{var v;(((v=t.info)==null?void 0:v.remain_skip)??0)>0&&i(w)})}var o=n(x,2);o.value=(o.__value="Over")==null?"":"Over",c(s,g)};N(X,s=>{t.request===$.VOTE||t.request===$.DIVINE||t.request===$.GUARD||t.request===$.ATTACK?s(B):s(C,!1)})}a(V);var H=n(V,2);H.__click=[We,t,Y,Q];var at=r(H);rt(at,"icon","mdi:send"),vt(),a(H),a(I);var z=n(I,2),q=r(z);a(z),K((s,g)=>{var x;ut(M,"style",`--value:${s??""};`),ut(M,"aria-label",g),m(L,s),Rt(q,t.remain!==null?t.remain/(((x=t.setting)==null?void 0:x.timeout.action)??6e4)*100:0)},[()=>Math.floor((t.remain?t.remain%6e4:0)/1e3),()=>Math.floor((t.remain?t.remain%6e4:0)/1e3).toString()]),c(A,f)};N(Z,A=>{var f;(f=h(tt))!=null&&f.display.largeScale?A(u):A(D,!1)})}a(T),c(e,T),Ot(),k()}te(["click","keydown"]);var Ce=_('<pre class="bg-primary text-primary-content text-3xl font-bold text-center my-2"> </pre>'),Ge=_('<div class="bg-info text-success-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Ye=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Ze=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Be=_('<div class="bg-success text-info-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),ze=_('<h2 class="text-2xl font-bold text-center my-2">霊能結果</h2> <!>',1),Qe=_('<div class="bg-error text-error-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),Xe=_('<div class="bg-success text-info-content flex flex-row gap-2 px-2"><pre class="text-2xl font-bold"> </pre> <pre class="text-2xl"> </pre> <pre class="text-2xl font-bold ml-auto"> </pre></div>'),$e=_('<h2 class="text-2xl font-bold text-center my-2">占い結果</h2> <!>',1),ta=_('<div class="grow overflow-y-auto pr-4"><pre class="text-5xl font-bold text-center"> </pre> <pre class="text-3xl text-center my-2"> </pre> <!> <!> <!> <!></div>'),ea=_('<pre class="text-lg text-center"> </pre>'),aa=_('<div class="bg-info text-info-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ra=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),na=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ia=_('<div class="bg-success text-info-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),sa=_('<h2 class="text-lg font-bold pt-2">霊能結果</h2> <!>',1),oa=_('<div class="bg-error text-error-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),la=_('<div class="bg-success text-info-content flex flex-row gap-2"><pre class="text-lg"> </pre> <pre class="text-lg"> </pre> <pre class="text-lg ml-auto"> </pre></div>'),ca=_('<h2 class="text-lg font-bold pt-2">占い結果</h2> <!>',1),va=_('<h2 class="text-xl font-bold pb-2">エージェント</h2> <div class="grow overflow-y-auto pr-4"><div class="flex justify-around"><div><h2 class="text-lg font-bold text-center">役職</h2> <pre class="text-lg text-center"> </pre></div> <div><h2 class="text-lg font-bold text-center">日数</h2> <pre class="text-lg text-center"> </pre></div> <div><h2 class="text-lg font-bold text-center">リクエスト</h2> <!></div></div> <h2 class="text-lg font-bold pt-2">ステータス</h2> <!> <!> <!></div>',1),ua=_('<div class="flex-[0_0_400px] rounded-lg bg-base-200"><div class="flex flex-col h-full p-4"><!></div></div>');function da(e,t){Tt(t,!0);let l=ht(void 0);Lt(()=>{const E=mt.subscribe(b=>{bt(l,kt(b))});Dt(E)});var k=ua(),Y=r(k),tt=r(Y);{var Q=E=>{var b=ta(),T=r(b),Z=r(T,!0);a(T);var u=n(T,2),D=r(u,!0);a(u);var A=n(u,2);{var f=L=>{var P=Ce(),U=r(P,!0);a(P),K(()=>m(U,St[t.request])),c(L,P)};N(A,L=>{t.request!==null&&L(f)})}var I=n(A,2);dt(I,17,()=>Object.entries(t.info.status_map??{}),ft,(L,P)=>{let U=()=>h(P)[0],J=()=>h(P)[1];var O=ot(),V=F(O);{var X=C=>{var H=Ge(),at=r(H),z=r(at,!0);a(at);var q=n(at,2),s=r(q,!0);a(q);var g=n(q,2),x=r(g,!0);a(g),a(H),K(()=>{m(z,U()),m(s,wt[(t.info.role_map??{})[U()]]??""),m(x,Mt[J()])}),c(C,H)},B=C=>{var H=Ye(),at=r(H),z=r(at,!0);a(at);var q=n(at,2),s=r(q,!0);a(q);var g=n(q,2),x=r(g);a(g),a(H),K(w=>{m(z,U()),m(s,wt[(t.info.role_map??{})[U()]]??""),m(x,`${Mt[J()]??""}${w??""}`)},[()=>t.executedAgents.includes(U())?" (追放)":t.attackedAgents.includes(U())?" (襲撃)":""]),c(C,H)};N(V,C=>{J()===At.ALIVE?C(X):C(B,!1)})}c(L,O)});var R=n(I,2);{var W=L=>{var P=ze(),U=n(F(P),2);dt(U,17,()=>t.mediumResults,ft,(J,O)=>{let V=()=>h(O).day,X=()=>h(O).target,B=()=>h(O).result;var C=ot(),H=F(C);{var at=q=>{var s=Ze(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${V()??""}日目)`),m(v,pt[B()])}),c(q,s)},z=q=>{var s=Be(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${V()??""}日目)`),m(v,pt[B()])}),c(q,s)};N(H,q=>{B()!==Nt.HUMAN?q(at):q(z,!1)})}c(J,C)}),c(L,P)};N(R,L=>{t.mediumResults.length>0&&L(W)})}var S=n(R,2);{var M=L=>{var P=$e(),U=n(F(P),2);dt(U,17,()=>t.divineResults,ft,(J,O)=>{let V=()=>h(O).day,X=()=>h(O).target,B=()=>h(O).result;var C=ot(),H=F(C);{var at=q=>{var s=Qe(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${V()??""}日目)`),m(v,pt[B()])}),c(q,s)},z=q=>{var s=Xe(),g=r(s),x=r(g,!0);a(g);var w=n(g,2),o=r(w);a(w);var i=n(w,2),v=r(i,!0);a(i),a(s),K(()=>{m(x,X()),m(o,`(${V()??""}日目)`),m(v,pt[B()])}),c(q,s)};N(H,q=>{B()!==Nt.HUMAN?q(at):q(z,!1)})}c(J,C)}),c(L,P)};N(S,L=>{t.divineResults.length>0&&L(M)})}a(b),K(()=>{m(Z,t.role!==null?wt[t.role]:"ゲーム外"),m(D,t.info!==null?t.info.day+"日目":"ゲーム外")}),c(E,b)},et=E=>{var b=va(),T=n(F(b),2),Z=r(T),u=r(Z),D=n(r(u),2),A=r(D,!0);a(D),a(u);var f=n(u,2),I=n(r(f),2),R=r(I,!0);a(I),a(f);var W=n(f,2),S=n(r(W),2);{var M=V=>{var X=ea(),B=r(X,!0);a(X),K(()=>m(B,St[t.request])),c(V,X)};N(S,V=>{t.request!==null&&V(M)})}a(W),a(Z);var L=n(Z,4);dt(L,17,()=>Object.entries(t.info.status_map??{}),ft,(V,X)=>{let B=()=>h(X)[0],C=()=>h(X)[1];var H=ot(),at=F(H);{var z=s=>{var g=aa(),x=r(g),w=r(x,!0);a(x);var o=n(x,2),i=r(o,!0);a(o);var v=n(o,2),y=r(v,!0);a(v),a(g),K(()=>{m(w,B()),m(i,wt[(t.info.role_map??{})[B()]]??""),m(y,Mt[C()])}),c(s,g)},q=s=>{var g=ra(),x=r(g),w=r(x,!0);a(x);var o=n(x,2),i=r(o,!0);a(o);var v=n(o,2),y=r(v);a(v),a(g),K(p=>{m(w,B()),m(i,wt[(t.info.role_map??{})[B()]]??""),m(y,`${Mt[C()]??""}${p??""}`)},[()=>t.executedAgents.includes(B())?" (追放)":t.attackedAgents.includes(B())?" (襲撃)":""]),c(s,g)};N(at,s=>{C()===At.ALIVE?s(z):s(q,!1)})}c(V,H)});var P=n(L,2);{var U=V=>{var X=sa(),B=n(F(X),2);dt(B,17,()=>t.mediumResults,ft,(C,H)=>{let at=()=>h(H).day,z=()=>h(H).target,q=()=>h(H).result;var s=ot(),g=F(s);{var x=o=>{var i=na(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[q()])}),c(o,i)},w=o=>{var i=ia(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[q()])}),c(o,i)};N(g,o=>{q()!==Nt.HUMAN?o(x):o(w,!1)})}c(C,s)}),c(V,X)};N(P,V=>{t.mediumResults.length>0&&V(U)})}var J=n(P,2);{var O=V=>{var X=ca(),B=n(F(X),2);dt(B,17,()=>t.divineResults,ft,(C,H)=>{let at=()=>h(H).day,z=()=>h(H).target,q=()=>h(H).result;var s=ot(),g=F(s);{var x=o=>{var i=oa(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[q()])}),c(o,i)},w=o=>{var i=la(),v=r(i),y=r(v,!0);a(v);var p=n(v,2),d=r(p);a(p);var j=n(p,2),G=r(j,!0);a(j),a(i),K(()=>{m(y,z()),m(d,`(${at()??""}日目)`),m(G,pt[q()])}),c(o,i)};N(g,o=>{q()!==Nt.HUMAN?o(x):o(w,!1)})}c(C,s)}),c(V,X)};N(J,V=>{t.divineResults.length>0&&V(O)})}a(T),K(()=>{m(A,t.role!==null?wt[t.role]:"ゲーム外"),m(R,t.info!==null?t.info.day+"日目":"ゲーム外")}),c(E,b)};N(tt,E=>{var b;(b=h(l))!=null&&b.display.largeScale?E(Q):E(et,!1)})}a(Y),a(k),c(e,k),Ot()}function fa(){Et.connect()}function _a(){Et.disconnect()}var ga=_('<div class="status status-success animate-ping"></div> <div class="status status-success"></div>',1),ma=_('<div class="status status-warning animate-ping"></div> <div class="status status-warning"></div>',1),xa=_('<div class="status status-error"></div>'),ba=(e,t)=>t("connection.url",e.currentTarget.value),pa=(e,t)=>t("connection.token",e.currentTarget.value),ya=(e,t)=>t("team",e.currentTarget.value),ha=(e,t)=>t("display.largeScale",e.currentTarget.checked),ka=_('<div class="navbar bg-base-100 flex justify-start gap-4 overflow-x-auto"><h1 class="text-3xl font-bold text-nowrap ml-2">aiwolf-nlp-viewer</h1> <div class="ml-auto"><div class="inline-grid *:[grid-area:1/1]"><!></div></div> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="WebSocket URL"></label> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="Authorization Key"> <span class="badge badge-neutral badge-xs">Optional</span></label> <button class="btn btn-info">接続</button> <button class="btn btn-error">切断</button> <button class="btn">設定</button> <dialog class="modal"><div class="modal-box"><div class="form-control my-2"><h3 class="text-lg font-bold">エージェント設定</h3> <h4 class="text-base font-bold mt-2">チーム名</h4> <label class="input min-w-3xs w-3xs my-2"><iconify-icon></iconify-icon> <input type="text" class="grow"></label> <h3 class="text-lg font-bold mt-4">表示設定</h3> <h4 class="text-base font-bold mt-2">大画面向け</h4> <label class="label cursor-pointer my-2"><span class="label-text">有効</span> <input type="checkbox" class="checkbox"></label></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog> <label class="flex items-center cursor-pointer gap-2"><iconify-icon></iconify-icon> <input type="checkbox" value="dark" class="toggle theme-controller"> <iconify-icon></iconify-icon></label></div>',2);function Aa(e,t){Tt(t,!0);let l=ht(void 0),k=ht(void 0);const Y=mt.subscribe(s=>{bt(l,kt(s))}),tt=Et.subscribe(s=>{bt(k,kt(s.status))});Dt(()=>{Y(),tt()});function Q(s,g){mt.update(x=>{const w=s.split("."),o=w.pop();let i=x;for(const v of w)v&&(i=i[v]);return i[o]=g,{...x}})}let et;var E=ka(),b=n(r(E),2),T=r(b),Z=r(T);{var u=s=>{var g=ga();vt(2),c(s,g)},D=s=>{var g=ot(),x=F(g);{var w=i=>{var v=ma();vt(2),c(i,v)},o=i=>{var v=xa();c(i,v)};N(x,i=>{h(k)==="connecting"?i(w):i(o,!1)},!0)}c(s,g)};N(Z,s=>{h(k)==="connected"?s(u):s(D,!1)})}a(T),a(b);var A=n(b,2),f=r(A);rt(f,"class","h-[1em] opacity-50"),rt(f,"inline",!0),rt(f,"icon","mdi:link");var I=n(f,2);yt(I),I.__input=[ba,Q],a(A);var R=n(A,2),W=r(R);rt(W,"class","h-[1em] opacity-50"),rt(W,"inline",!0),rt(W,"icon","mdi:key");var S=n(W,2);yt(S),S.__input=[pa,Q],vt(2),a(R);var M=n(R,2);M.__click=[fa];var L=n(M,2);L.__click=[_a];var P=n(L,2);P.__click=()=>et.showModal();var U=n(P,2),J=r(U),O=r(J),V=n(r(O),4),X=r(V);rt(X,"class","h-[1em] opacity-50"),rt(X,"inline",!0),rt(X,"icon","mdi:rename");var B=n(X,2);yt(B),B.__input=[ya,Q],a(V);var C=n(V,6),H=n(r(C),2);yt(H),H.__change=[ha,Q],a(C),a(O),a(J),vt(2),a(U),Jt(U,s=>et=s,()=>et);var at=n(U,2),z=r(at);rt(z,"inline",!0),rt(z,"icon","mdi:white-balance-sunny");var q=n(z,4);rt(q,"inline",!0),rt(q,"icon","mdi:moon-and-stars"),a(at),a(E),K(()=>{var s,g,x,w;Rt(I,(s=h(l))==null?void 0:s.connection.url),Rt(S,(g=h(l))==null?void 0:g.connection.token),M.disabled=h(k)!=="disconnected",L.disabled=h(k)==="disconnected",Rt(B,(x=h(l))==null?void 0:x.team),Wt(H,(w=h(l))==null?void 0:w.display.largeScale)}),c(e,E),Ot()}te(["input","click","change"]);var wa=_("<iconify-icon></iconify-icon>",2),Ia=_("<iconify-icon></iconify-icon>",2),Sa=_('<div class="chat-bubble bg-base-100 text-xl text-pretty break-all"> </div>'),Ea=_('<div class="chat-image avatar"><div class="w-20 rounded-full"><img></div></div> <pre class="chat-header text-lg"> </pre> <!> <pre class="chat-footer opacity-50 text-sm"> </pre>',1),Ta=_("<iconify-icon></iconify-icon>",2),Oa=_("<iconify-icon></iconify-icon>",2),Da=_('<div class="chat-bubble bg-base-100 text-pretty break-all"> </div>'),Na=_('<div class="chat-image avatar"><div class="w-10 rounded-full"><img></div></div> <pre class="chat-header"> </pre> <!> <pre class="chat-footer opacity-50"> </pre>',1),Ra=_('<div class="chat chat-start"><!></div>');function Qt(e,t){Tt(t,!0);let l=ht(void 0);Lt(()=>{const et=mt.subscribe(E=>{bt(l,kt(E))});Dt(et)});var k=Ra(),Y=r(k);{var tt=et=>{var E=Ea(),b=F(E),T=r(b),Z=r(T);a(T),a(b);var u=n(b,2),D=r(u,!0);a(u);var A=n(u,2);{var f=S=>{var M=wa();rt(M,"inline",!0),rt(M,"icon","mdi:skip-forward"),c(S,M)},I=S=>{var M=ot(),L=F(M);{var P=J=>{var O=Ia();rt(O,"inline",!0),rt(O,"icon","mdi:arrow-u-down-right-bold"),c(J,O)},U=J=>{var O=Sa(),V=r(O,!0);a(O),K(()=>m(V,t.talk.text)),c(J,O)};N(L,J=>{t.talk.skip?J(P):J(U,!1)},!0)}c(S,M)};N(A,S=>{t.talk.over?S(f):S(I,!1)})}var R=n(A,2),W=r(R);a(R),K(S=>{ut(Z,"src",`${Yt??""}/images/male/${S??""}.png`),ut(Z,"alt",t.talk.agent),m(D,t.talk.agent),m(W,`Idx: ${t.talk.idx??""}`)},[()=>{var S;return Number((S=t.talk.agent.match(/Agent\[(\d+)\]/))==null?void 0:S[1]).toString().padStart(2,"0")}]),c(et,E)},Q=et=>{var E=Na(),b=F(E),T=r(b),Z=r(T);a(T),a(b);var u=n(b,2),D=r(u,!0);a(u);var A=n(u,2);{var f=S=>{var M=Ta();rt(M,"inline",!0),rt(M,"icon","mdi:skip-forward"),c(S,M)},I=S=>{var M=ot(),L=F(M);{var P=J=>{var O=Oa();rt(O,"inline",!0),rt(O,"icon","mdi:arrow-u-down-right-bold"),c(J,O)},U=J=>{var O=Da(),V=r(O,!0);a(O),K(()=>m(V,t.talk.text)),c(J,O)};N(L,J=>{t.talk.skip?J(P):J(U,!1)},!0)}c(S,M)};N(A,S=>{t.talk.over?S(f):S(I,!1)})}var R=n(A,2),W=r(R);a(R),K(S=>{ut(Z,"src",`${Yt??""}/images/male/${S??""}.png`),ut(Z,"alt",t.talk.agent),m(D,t.talk.agent),m(W,`Idx: ${t.talk.idx??""}`)},[()=>{var S;return Number((S=t.talk.agent.match(/Agent\[(\d+)\]/))==null?void 0:S[1]).toString().padStart(2,"0")}]),c(et,E)};N(Y,et=>{var E;(E=h(l))!=null&&E.display.largeScale?et(tt):et(Q,!1)})}a(k),c(e,k),Ot()}var La=_('<input type="radio" name="talk_days" class="tab text-lg font-bold"> <div class="tab-content my-4"></div>',1),ja=_('<div class="tabs tabs-border"></div>'),Ma=_('<h2 class="text-3xl font-bold pb-2"> </h2> <div class="grow overflow-y-auto pr-4"><!></div>',1),qa=_('<input type="radio" name="talk_days" class="tab"> <div class="tab-content my-4"></div>',1),Va=_('<div class="tabs tabs-border"></div>'),Ha=_('<h2 class="text-xl font-bold pb-2"> </h2> <div class="grow overflow-y-auto pr-4"><!></div>',1),Ua=_('<div class="flex-[0_0_600px] rounded-lg bg-base-200"><div class="flex flex-col h-full p-4"><!></div></div>');function Xt(e,t){Tt(t,!0);let l=ht(void 0);Lt(()=>{const E=mt.subscribe(b=>{bt(l,kt(b))});Dt(E)});var k=Ua(),Y=r(k),tt=r(Y);{var Q=E=>{var b=Ma(),T=F(b),Z=r(T,!0);a(T);var u=n(T,2),D=r(u);{var A=f=>{var I=ja();const R=Ct(()=>[...new Set(t.talks.map(W=>W.day))].sort((W,S)=>S-W));dt(I,21,()=>h(R),ft,(W,S)=>{var M=La(),L=F(M);yt(L);var P=n(L,2);dt(P,21,()=>t.talks.filter(U=>U.day===h(S)),ft,(U,J)=>{Qt(U,{get talk(){return h(J)}})}),a(P),K(()=>{Wt(L,h(S)===h(R)[0]),ut(L,"aria-label",`${h(S)}日目`)}),c(W,M)}),a(I),c(f,I)};N(D,f=>{t.talks.length>0&&f(A)})}a(u),K(()=>m(Z,t.header)),c(E,b)},et=E=>{var b=Ha(),T=F(b),Z=r(T,!0);a(T);var u=n(T,2),D=r(u);{var A=f=>{var I=Va();const R=Ct(()=>[...new Set(t.talks.map(W=>W.day))].sort((W,S)=>S-W));dt(I,21,()=>h(R),ft,(W,S)=>{var M=qa(),L=F(M);yt(L);var P=n(L,2);dt(P,21,()=>t.talks.filter(U=>U.day===h(S)),ft,(U,J)=>{Qt(U,{get talk(){return h(J)}})}),a(P),K(()=>{Wt(L,h(S)===h(R)[0]),ut(L,"aria-label",`${h(S)}日目`)}),c(W,M)}),a(I),c(f,I)};N(D,f=>{t.talks.length>0&&f(A)})}a(u),K(()=>m(Z,t.header)),c(E,b)};N(tt,E=>{var b;(b=h(l))!=null&&b.display.largeScale?E(Q):E(et,!1)})}a(Y),a(k),c(e,k),Ot()}var Fa=_('<div class="overflow-y-hidden flex grow overflox-x-auto gap-4 p-4"><!> <!> <!></div> <!>',1),Wa=_('<div class="flex items-center justify-center h-full"><pre class="base-content text-9xl font-bold opacity-70 select-none">未接続</pre></div>'),Ja=_('<div role="alert" class="alert m-4"><span class="text-lg font-bold">未接続</span></div>'),Ka=_('<main class="h-screen flex flex-col bg-base-300"><!> <!></main>');function or(e,t){Tt(t,!0);const[l,k]=$t(),Y=()=>ct(W,"$deadline",l),tt=()=>ct(R,"$status",l),Q=()=>ct(P,"$info",l),et=()=>ct(M,"$role",l),E=()=>ct(L,"$request",l),b=()=>ct(U,"$mediumResults",l),T=()=>ct(J,"$divineResults",l),Z=()=>ct(B,"$executedAgents",l),u=()=>ct(C,"$attackedAgents",l),D=()=>ct(V,"$talkHistory",l),A=()=>ct(X,"$whisperHistory",l),f=()=>ct(H,"$remain",l),I=()=>ct(O,"$setting",l),R=st(""),W=st(null),S=st([]),M=st(null),L=st(null),P=st(null),U=st([]),J=st([]),O=st(null),V=st([]),X=st([]),B=st([]),C=st([]),H=st(null);let at=ht(void 0),z;function q(){{const y=oe.url.searchParams,p=y.get("url"),d=y.get("token");p&&(mt.update(j=>({...j,connection:{url:p??"",token:d??""}})),Et.connect())}}function s(){if(Y()!==null){const y=Date.now(),p=Math.max(0,Y()-y);H.set(p),p>0?z=requestAnimationFrame(s):H.set(0)}return()=>{z&&cancelAnimationFrame(z)}}Lt(()=>{q();const y=Et.subscribe(d=>{R.set(d.status),d.deadline?(W.set(d.deadline.getTime()),z&&cancelAnimationFrame(z),z=requestAnimationFrame(s)):(W.set(null),H.set(null)),S.set(d.entries),M.set(d.role),L.set(d.request),P.set(d.info),U.set(d.mediumResults),J.set(d.divineResults),O.set(d.setting),V.set(d.talkHistory),X.set(d.whisperHistory),B.set(d.executedAgents),C.set(d.attackedAgents)}),p=mt.subscribe(d=>{bt(at,kt(d))});Dt(()=>{y(),p(),z&&cancelAnimationFrame(z)}),window.addEventListener("beforeunload",d=>{tt()==="connected"&&d.preventDefault()}),window.addEventListener("popstate",d=>{tt()==="connected"&&d.preventDefault()})});function g(y){Et.send(y)}var x=Ka();se(y=>{ie.title="aiwolf-nlp-viewer"});var w=r(x);Aa(w,{});var o=n(w,2);{var i=y=>{var p=Fa(),d=F(p),j=r(d);da(j,{get role(){return et()},get request(){return E()},get info(){return Q()},get mediumResults(){return b()},get divineResults(){return T()},get executedAgents(){return Z()},get attackedAgents(){return u()}});var G=n(j,2);Xt(G,{header:"トーク履歴",get talks(){return D()}});var nt=n(G,2);{var it=_t=>{Xt(_t,{header:"囁き履歴",get talks(){return A()}})};N(nt,_t=>{et()===ee.WEREWOLF&&_t(it)})}a(d);var gt=n(d,2);{var lt=_t=>{Pe(_t,{get remain(){return f()},get setting(){return I()},get request(){return E()},get info(){return Q()},onSendMessage:g})};N(gt,_t=>{f()!==null&&_t(lt)})}c(y,p)},v=y=>{var p=ot(),d=F(p);{var j=nt=>{var it=Wa();c(nt,it)},G=nt=>{var it=Ja();c(nt,it)};N(d,nt=>{var it;(it=h(at))!=null&&it.display.largeScale?nt(j):nt(G,!1)},!0)}c(y,p)};N(o,y=>{Q()!==null?y(i):y(v,!1)})}a(x),c(e,x),Ot(),k()}export{or as component};
