var Oe=Object.defineProperty;var De=(t,e,n)=>e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yt=(t,e,n)=>De(t,typeof e!="symbol"?e+"":e,n);import{t as _,a as p,c as pe}from"../chunks/56-FZzVf.js";import{p as _e,s as Rt,i as c,j as k,a as ge,aG as Jt,c as o,g as f,f as r,aI as yt,aw as wt,$ as He}from"../chunks/gg5HwMBM.js";import{d as be,s as h}from"../chunks/DI_mLvlt.js";import{i as C}from"../chunks/cLcwwkPL.js";import{e as ft,i as mt}from"../chunks/DxQKEJWX.js";import{h as Le}from"../chunks/CSn9cF3y.js";import{a as J,r as Mt,c as $t,s as Dt}from"../chunks/CGCW5UOo.js";import{t as Ht}from"../chunks/C_Lgu1rS.js";import{b as Me}from"../chunks/DmguYsvh.js";import{p as Ft}from"../chunks/Rs7vqiH9.js";import{b as he}from"../chunks/DU60D4PS.js";import{s as W,a as $e,b as xe}from"../chunks/yiHWBsU-.js";import{w as R}from"../chunks/5ZuRk7Ze.js";import{a as we,o as Re}from"../chunks/CQE0SVbD.js";/* empty css                */class qt{static fromJson(e){return Ue(JSON.parse(e),Qt("AgentSettings"))}static toJson(e){return JSON.stringify(Pe(e,Qt("AgentSettings")),null,2)}}function it(t,e,n,d=""){const I=Bt(t),g=d?` on ${d}`:"",A=n?` for key "${n}"`:"";throw Error(`Invalid value${A}${g}. Expected ${I} but got ${JSON.stringify(e)}`)}function Bt(t){return Array.isArray(t)?t.length===2&&t[0]===void 0?`an optional ${Bt(t[1])}`:`one of [${t.map(e=>Bt(e)).join(", ")}]`:typeof t=="object"&&t.literal!==void 0?t.literal:typeof t}function Je(t){if(t.jsonToJS===void 0){const e={};t.props.forEach(n=>e[n.json]={key:n.js,typ:n.typ}),t.jsonToJS=e}return t.jsonToJS}function Fe(t){if(t.jsToJSON===void 0){const e={};t.props.forEach(n=>e[n.js]={key:n.json,typ:n.typ}),t.jsToJSON=e}return t.jsToJSON}function It(t,e,n,d="",I=""){function g(l,v){return typeof l==typeof v?v:it(l,v,d,I)}function A(l,v){const b=l.length;for(let u=0;u<b;u++){const T=l[u];try{return It(v,T,n)}catch{}}return it(l,v,d,I)}function tt(l,v){return l.indexOf(v)!==-1?v:it(l.map(b=>Lt(b)),v,d,I)}function K(l,v){return Array.isArray(v)?v.map(b=>It(b,l,n)):it(Lt("array"),v,d,I)}function x(l){if(l===null)return null;const v=new Date(l);return isNaN(v.valueOf())?it(Lt("Date"),l,d,I):v}function m(l,v,b){if(b===null||typeof b!="object"||Array.isArray(b))return it(Lt(O||"object"),b,d,I);const u={};return Object.getOwnPropertyNames(l).forEach(T=>{const et=l[T],nt=Object.prototype.hasOwnProperty.call(b,T)?b[T]:void 0;u[et.key]=It(nt,et.typ,n,T,O)}),Object.getOwnPropertyNames(b).forEach(T=>{Object.prototype.hasOwnProperty.call(l,T)||(u[T]=It(b[T],v,n,T,O))}),u}if(e==="any")return t;if(e===null)return t===null?t:it(e,t,d,I);if(e===!1)return it(e,t,d,I);let O;for(;typeof e=="object"&&e.ref!==void 0;)O=e.ref,e=Ve[e.ref];return Array.isArray(e)?tt(e,t):typeof e=="object"?e.hasOwnProperty("unionMembers")?A(e.unionMembers,t):e.hasOwnProperty("arrayItems")?K(e.arrayItems,t):e.hasOwnProperty("props")?m(n(e),e.additional,t):it(e,t,d,I):e===Date&&typeof t!="number"?x(t):g(e,t)}function Ue(t,e){return It(t,e,Je)}function Pe(t,e){return It(t,e,Fe)}function Lt(t){return{literal:t}}function fe(t,e){return{props:t,additional:e}}function Qt(t){return{ref:t}}const Ve={AgentSettings:fe([{json:"connection",js:"connection",typ:Qt("Connection")},{json:"team",js:"team",typ:""}],!1),Connection:fe([{json:"url",js:"url",typ:""},{json:"token",js:"token",typ:""}],!1)},me={connection:{url:"ws://localhost:8080/ws",token:""},team:"default"};function We(){const t=localStorage.getItem("agent-settings");if(t)try{return qt.fromJson(t)}catch(e){console.error(e)}return localStorage.setItem("agent-settings",qt.toJson(me)),me}const jt=R(We());jt.subscribe(t=>{localStorage.setItem("agent-settings",qt.toJson(t))});var ot=(t=>(t.NAME="NAME",t.TALK="TALK",t.WHISPER="WHISPER",t.VOTE="VOTE",t.DIVINE="DIVINE",t.GUARD="GUARD",t.ATTACK="ATTACK",t.INITIALIZE="INITIALIZE",t.DAILY_INITIALIZE="DAILY_INITIALIZE",t.DAILY_FINISH="DAILY_FINISH",t.FINISH="FINISH",t))(ot||{}),te=(t=>(t.HUMAN="HUMAN",t.WEREWOLF="WEREWOLF",t))(te||{}),ee=(t=>(t.ALIVE="ALIVE",t.DEAD="DEAD",t))(ee||{});function Ce(){const{subscribe:t,update:e}=R({status:"disconnected",deadline:null,entries:[],role:null,request:null,info:null,mediumResults:[],divineResults:[],setting:null,talkHistory:[],whisperHistory:[]});let n=null,d=null,I=null,g=null;jt.subscribe(x=>{d=x});function A(){if(!d)return;e(m=>({...m,status:"connecting"}));const x=new URL(d.connection.url);d.connection.token&&x.searchParams.set("token",d.connection.token),n=new WebSocket(x),n.onopen=()=>{e(m=>({...m,status:"connected"}))},n.onclose=()=>{e(m=>({...m,status:"disconnected"})),n=null,g&&(g.clear(),g=null,e(m=>({...m,deadline:null})))},n.onerror=()=>{e(m=>({...m,status:"disconnected"})),n=null,g&&(g.clear(),g=null,e(m=>({...m,deadline:null})))},n.onmessage=m=>{try{const O=Date.now(),l=JSON.parse(m.data);switch(e(v=>{const b=v.entries.slice();b.push(l);const u={...v,entries:b,request:l.request};return l.info&&(u.info=l.info,l.info.mediumResult&&u.mediumResults.push(l.info.mediumResult),l.info.divineResult&&u.divineResults.push(l.info.divineResult)),l.setting&&(u.setting=l.setting,I=l.setting.actionTimeout),l.talkHistory&&u.talkHistory.push(...l.talkHistory),l.whisperHistory&&u.whisperHistory.push(...l.whisperHistory),l.request===ot.INITIALIZE&&u.info&&u.info.roleMap&&u.info.agent&&(u.role=u.info.roleMap[u.info.agent]),u}),l.request){case ot.NAME:K((d==null?void 0:d.team)||"viewer"+Math.floor(Math.random()*1e3));break;case ot.TALK:case ot.WHISPER:case ot.VOTE:case ot.DIVINE:case ot.GUARD:case ot.ATTACK:g=new Ke(()=>{K("TIMEOUT")},new Date(O+(I??6e4))),e(v=>({...v,deadline:(g==null?void 0:g.deadline())??null}));break;case ot.FINISH:tt();break}}catch(O){console.error("Failed to parse message:",O)}}}function tt(){n&&(e(x=>({...x,status:"disconnected"})),n.close(),n=null,g&&(g.clear(),g=null,e(x=>({...x,deadline:null}))))}function K(x){if(g&&(g.clear(),g=null,e(m=>({...m,deadline:null}))),n&&n.readyState===WebSocket.OPEN)try{n.send(x),e(m=>{const O=m.entries.slice();return O.push(x),{...m,entries:O}})}catch(m){console.error("Failed to send message:",m)}}return{subscribe:t,connect:A,disconnect:tt,send:K}}const kt=Ce();class Ke{constructor(e,n){Yt(this,"timeout");Yt(this,"_deadline");this.timeout=setTimeout(e,n.getTime()-new Date().getTime()),this._deadline=n}deadline(){return this._deadline}clear(){clearTimeout(this.timeout)}}function Ze(){kt.connect()}function ze(){kt.disconnect()}var Ge=_('<div class="status status-success animate-ping"></div> <div class="status status-success"></div>',1),Xe=_('<div class="status status-warning animate-ping"></div> <div class="status status-warning"></div>',1),Ye=_('<div class="status status-error"></div>'),qe=(t,e)=>e("connection.url",t.currentTarget.value),Be=(t,e)=>e("connection.token",t.currentTarget.value),Qe=(t,e)=>e("team",t.currentTarget.value),tn=_('<div class="navbar bg-base-100 flex justify-start gap-4 overflow-x-auto"><h1 class="text-3xl font-bold text-nowrap ml-2">aiwolf-nlp-viewer</h1> <div class="ml-auto"><div class="inline-grid *:[grid-area:1/1]"><!></div></div> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="WebSocket URL"></label> <label class="input min-w-3xs w-3xs"><iconify-icon></iconify-icon> <input type="text" class="grow" placeholder="Authorization Key"> <span class="badge badge-neutral badge-xs">Optional</span></label> <button class="btn btn-info">接続</button> <button class="btn btn-error">切断</button> <button class="btn">設定</button> <dialog class="modal"><div class="modal-box"><div class="form-control"><h3 class="text-lg font-bold mt-2">エージェント設定</h3> <h4 class="text-base font-bold mt-4">チーム名</h4> <label class="input min-w-3xs w-3xs my-2"><iconify-icon></iconify-icon> <input type="text" class="grow"></label></div></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog> <label class="flex items-center cursor-pointer gap-2"><iconify-icon></iconify-icon> <input type="checkbox" value="dark" class="toggle theme-controller"> <iconify-icon></iconify-icon></label></div>',2);function en(t,e){_e(e,!0);let n=Jt(void 0),d=Jt(void 0);const I=jt.subscribe(w=>{Rt(n,Ft(w))}),g=kt.subscribe(w=>{Rt(d,Ft(w.status))});we(()=>{I(),g()});function A(w,F){jt.update(Z=>{const ht=w.split("."),xt=ht.pop();let U=Z;for(const rt of ht)rt&&(U=U[rt]);return U[xt]=F,{...Z}})}let tt;var K=tn(),x=c(o(K),2),m=o(x),O=o(m);{var l=w=>{var F=Ge();yt(2),p(w,F)},v=w=>{var F=pe(),Z=wt(F);{var ht=U=>{var rt=Xe();yt(2),p(U,rt)},xt=U=>{var rt=Ye();p(U,rt)};C(Z,U=>{f(d)==="connecting"?U(ht):U(xt,!1)},!0)}p(w,F)};C(O,w=>{f(d)==="connected"?w(l):w(v,!1)})}r(m),r(x);var b=c(x,2),u=o(b);J(u,"class","h-[1em] opacity-50"),J(u,"inline",!0),J(u,"icon","mdi:link");var T=c(u,2);Mt(T),T.__input=[qe,A],r(b);var et=c(b,2),nt=o(et);J(nt,"class","h-[1em] opacity-50"),J(nt,"inline",!0),J(nt,"icon","mdi:key");var pt=c(nt,2);Mt(pt),pt.__input=[Be,A],yt(2),r(et);var _t=c(et,2);_t.__click=[Ze];var gt=c(_t,2);gt.__click=[ze];var At=c(gt,2);At.__click=()=>tt.showModal();var ct=c(At,2),Et=o(ct),St=o(Et),Tt=c(o(St),4),ut=o(Tt);J(ut,"class","h-[1em] opacity-50"),J(ut,"inline",!0),J(ut,"icon","mdi:rename");var lt=c(ut,2);Mt(lt),lt.__input=[Qe,A],r(Tt),r(St),r(Et),yt(2),r(ct),he(ct,w=>tt=w,()=>tt);var bt=c(ct,2),Nt=o(bt);J(Nt,"inline",!0),J(Nt,"icon","mdi:white-balance-sunny");var z=c(Nt,4);J(z,"inline",!0),J(z,"icon","mdi:moon-and-stars"),r(bt),r(K),k(()=>{var w,F,Z;$t(T,(w=f(n))==null?void 0:w.connection.url),$t(pt,(F=f(n))==null?void 0:F.connection.token),_t.disabled=f(d)!=="disconnected",gt.disabled=f(d)==="disconnected",$t(lt,(Z=f(n))==null?void 0:Z.team)}),p(t,K),ge()}be(["input","click"]);var nn=_('<pre class="bg-primary text-primary-content p-2"> </pre>'),rn=_('<pre class="font-bold bg-info text-info-content ml-auto"> </pre>'),an=_('<pre class="font-bold bg-error text-error-content ml-auto"> </pre>'),on=_('<div class="flex flex-row gap-2"><pre> </pre> <pre> </pre> <!></div>'),sn=_('<pre class="font-bold bg-info text-info-content ml-auto"> </pre>'),ln=_('<pre class="font-bold bg-error text-error-content ml-auto"> </pre>'),cn=_('<div class="flex flex-row gap-2"><pre> </pre> <pre> </pre> <!></div>'),un=_('<h2 class="font-bold text-lg p-2">霊能結果</h2> <!>',1),dn=_('<pre class="font-bold bg-info text-info-content ml-auto"> </pre>'),vn=_('<pre class="font-bold bg-error text-error-content ml-auto"> </pre>'),fn=_('<div class="flex flex-row gap-2"><pre> </pre> <pre> </pre> <!></div>'),mn=_('<h2 class="font-bold text-lg p-2">占い結果</h2> <!>',1),pn=_('<div class="p-2"></div> <!> <!>',1),_n=_('<h2 class="font-bold text-lg p-2">トーク履歴</h2>'),gn=_('<div class="chat"><div class="chat-image avatar avatar-placeholder"><div class="bg-neutral text-neutral-content w-12 rounded-full"><span class="text-2xl"> </span></div></div> <div class="chat-header"></div> <div class="chat-bubble bg-base-100"> </div> <div class="chat-footer opacity-50"> </div></div>'),bn=_('<h2 class="font-bold text-lg p-2">囁き履歴</h2>'),hn=_('<div class="chat"><div class="chat-image avatar avatar-placeholder"><div class="bg-neutral text-neutral-content w-12 rounded-full"><span class="text-2xl"> </span></div></div> <div class="chat-header"></div> <div class="chat-bubble bg-base-100"> </div> <div class="chat-footer opacity-50"> </div></div>'),xn=_('<pre class="overflow-x-auto"> </pre> <div class="divider"></div>',1),wn=_('<span class="countdown font-mono text-2xl"><span aria-live="polite"> </span>s</span>'),yn=_("<option></option>"),In=(t,e,n)=>{kt.send(e()),xe(n,"")},An=_('<main class="h-screen flex flex-col"><!> <div class="flex flex-1 overflow-hidden w-full flex-col"><div class="flex-auto bg-base-300 p-2 h-full overflow-hidden"><div class="flex flex-row h-full"><div class="overflow-y-auto px-2 h-full"><pre class="font-bold text-xl p-2"> </pre> <!> <!> <!> <!> <!> <!> <div class="divider"></div> <pre> </pre></div> <button class="cursor-ew-resize w-2 rounded bg-gray-300 hover:bg-gray-400 active:bg-gray-500 transition-colors border-0" aria-label="Resize"></button> <div class="overflow-y-auto pl-2 h-full"></div></div></div> <div class="m-4"><div class="flex gap-2 items-center"><!> <input type="text" class="input flex-1" list="agents"> <datalist id="agents"></datalist> <button class="btn btn-square" aria-label="Send"><iconify-icon></iconify-icon></button></div> <progress class="progress" max="100"></progress></div></div></main>',2);function Pn(t,e){_e(e,!0);const[n,d]=$e(),I=()=>W(nt,"$deadline",n),g=()=>W(et,"$status",n),A=()=>W(At,"$info",n),tt=()=>W(_t,"$role",n),K=()=>W(gt,"$request",n),x=()=>W(ct,"$mediumResults",n),m=()=>W(Et,"$divineResults",n),O=()=>W(Tt,"$talkHistory",n),l=()=>W(ut,"$whisperHistory",n),v=()=>W(St,"$setting",n),b=()=>W(pt,"$entries",n),u=()=>W(lt,"$remain",n),T=()=>W(bt,"$message",n),et=R(""),nt=R(null),pt=R([]),_t=R(null),gt=R(null),At=R(null),ct=R([]),Et=R([]),St=R(null),Tt=R([]),ut=R([]),lt=R(null),bt=R("");let Nt=Jt(void 0),z,w=Jt(50),F=!1,Z=null;function ht(s){if(!F||!Z)return;const i=Z.getBoundingClientRect(),a=s-i.left,j=i.width;Rt(w,Ft(Math.min(90,Math.max(10,a/j*100))))}function xt(){F=!0,document.body.style.cursor="ew-resize",document.body.style.userSelect="none";const s=a=>{const j=a instanceof MouseEvent?a.clientX:a.touches[0].clientX;ht(j)},i=()=>{F=!1,document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),window.removeEventListener("mouseup",i),window.removeEventListener("touchend",i)};window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),window.addEventListener("mouseup",i),window.addEventListener("touchend",i)}function U(){if(I()!==null){const s=Date.now(),i=Math.max(0,I()-s);lt.set(i),i>0?z=requestAnimationFrame(U):lt.set(0)}return()=>{z&&cancelAnimationFrame(z)}}Re(()=>{const s=kt.subscribe(a=>{et.set(a.status),a.deadline?(nt.set(a.deadline.getTime()),z&&cancelAnimationFrame(z),z=requestAnimationFrame(U)):(nt.set(null),lt.set(null)),pt.set(a.entries),_t.set(a.role),gt.set(a.request),At.set(a.info),ct.set(a.mediumResults),Et.set(a.divineResults),St.set(a.setting),Tt.set(a.talkHistory),ut.set(a.whisperHistory)}),i=jt.subscribe(a=>{Rt(Nt,Ft(a))});we(()=>{s(),i(),z&&cancelAnimationFrame(z)}),window.addEventListener("beforeunload",a=>{g()==="connecting"&&a.preventDefault()})});var rt=An();Le(s=>{He.title="aiwolf-nlp-viewer"});var ne=o(rt);en(ne,{});var re=c(ne,2),Ut=o(re),Pt=o(Ut),Ot=o(Pt),Vt=o(Ot),ye=o(Vt);r(Vt);var ae=c(Vt,2);{var Ie=s=>{var i=nn(),a=o(i,!0);r(i),k(()=>h(a,K())),p(s,i)};C(ae,s=>{K()!==null&&s(Ie)})}var oe=c(ae,2);{var Ae=s=>{var i=pn(),a=wt(i);ft(a,5,()=>Object.entries(A().statusMap??{}),mt,(y,N)=>{let H=()=>f(N)[0],X=()=>f(N)[1];var E=on(),Y=o(E),q=o(Y,!0);r(Y);var L=c(Y,2),S=o(L,!0);r(L);var M=c(L,2);{var B=at=>{var Q=rn(),dt=o(Q,!0);r(Q),k(()=>h(dt,X())),p(at,Q)},st=at=>{var Q=an(),dt=o(Q,!0);r(Q),k(()=>h(dt,X())),p(at,Q)};C(M,at=>{X()===ee.ALIVE?at(B):at(st,!1)})}r(E),k(()=>{h(q,H()),h(S,(A().roleMap??{})[H()]??"-")}),p(y,E)}),r(a);var j=c(a,2);{var P=y=>{var N=un(),H=c(wt(N),2);ft(H,1,x,mt,(X,E)=>{let Y=()=>f(E).day,q=()=>f(E).target,L=()=>f(E).result;var S=cn(),M=o(S),B=o(M,!0);r(M);var st=c(M,2),at=o(st);r(st);var Q=c(st,2);{var dt=V=>{var $=sn(),vt=o($,!0);r($),k(()=>h(vt,L())),p(V,$)},Xt=V=>{var $=ln(),vt=o($,!0);r($),k(()=>h(vt,L())),p(V,$)};C(Q,V=>{L()===te.HUMAN?V(dt):V(Xt,!1)})}r(S),k(()=>{h(B,q()),h(at,`(Day${Y()??""})`)}),p(X,S)}),p(y,N)};C(j,y=>{x().length>0&&y(P)})}var G=c(j,2);{var D=y=>{var N=mn(),H=c(wt(N),2);ft(H,1,x,mt,(X,E)=>{let Y=()=>f(E).day,q=()=>f(E).target,L=()=>f(E).result;var S=fn(),M=o(S),B=o(M,!0);r(M);var st=c(M,2),at=o(st);r(st);var Q=c(st,2);{var dt=V=>{var $=dn(),vt=o($,!0);r($),k(()=>h(vt,L())),p(V,$)},Xt=V=>{var $=vn(),vt=o($,!0);r($),k(()=>h(vt,L())),p(V,$)};C(Q,V=>{L()===te.HUMAN?V(dt):V(Xt,!1)})}r(S),k(()=>{h(B,q()),h(at,`(Day${Y()??""})`)}),p(X,S)}),p(y,N)};C(G,y=>{m().length>0&&y(D)})}p(s,i)};C(oe,s=>{A()!==null&&s(Ae)})}var se=c(oe,2);{var Ee=s=>{var i=_n();p(s,i)};C(se,s=>{O().length>0&&s(Ee)})}var ie=c(se,2);ft(ie,1,O,mt,(s,i)=>{let a=()=>f(i).agent,j=()=>f(i).day,P=()=>f(i).idx,G=()=>f(i).text;var D=gn(),y=o(D),N=o(y),H=o(N),X=o(H,!0);r(H),r(N),r(y);var E=c(y,4),Y=o(E,!0);r(E);var q=c(E,2),L=o(q);r(q),r(D),k(S=>{var M,B;Ht(D,"chat-end",a()===((M=A())==null?void 0:M.agent)),Ht(D,"chat-start",a()!==((B=A())==null?void 0:B.agent)),h(X,S),h(Y,G()),h(L,`Day ${j()??""} Idx ${P()??""}`)},[()=>{var S;return Number((S=a().match(/Agent\[(\d+)\]/))==null?void 0:S[1])??""}]),p(s,D)});var le=c(ie,2);{var Se=s=>{var i=bn();p(s,i)};C(le,s=>{l().length>0&&s(Se)})}var ce=c(le,2);ft(ce,1,l,mt,(s,i)=>{let a=()=>f(i).agent,j=()=>f(i).day,P=()=>f(i).idx,G=()=>f(i).text;var D=hn(),y=o(D),N=o(y),H=o(N),X=o(H,!0);r(H),r(N),r(y);var E=c(y,4),Y=o(E,!0);r(E);var q=c(E,2),L=o(q);r(q),r(D),k(S=>{var M,B;Ht(D,"chat-end",a()===((M=A())==null?void 0:M.agent)),Ht(D,"chat-start",a()!==((B=A())==null?void 0:B.agent)),h(X,S),h(Y,G()),h(L,`Day ${j()??""} Idx ${P()??""}`)},[()=>{var S;return Number((S=a().match(/Agent\[(\d+)\]/))==null?void 0:S[1])??""}]),p(s,D)});var ue=c(ce,4),Te=o(ue,!0);r(ue),r(Ot);var Wt=c(Ot,2);Wt.__mousedown=xt,Wt.__touchstart=xt;var Ct=c(Wt,2);ft(Ct,5,()=>[...b()].reverse(),mt,(s,i)=>{var a=xn(),j=wt(a),P=o(j,!0);r(j),yt(2),k(G=>h(P,G),[()=>JSON.stringify(f(i),null,2)]),p(s,a)}),r(Ct),r(Pt),he(Pt,s=>Z=s,()=>Z),r(Ut);var de=c(Ut,2),Kt=o(de),ve=o(Kt);{var Ne=s=>{var i=wn(),a=o(i),j=o(a,!0);r(a),yt(),r(i),k((P,G)=>{Dt(a,"style",`--value:${P??""};`),Dt(a,"aria-label",G),h(j,P)},[()=>Math.floor(u()/1e3),()=>Math.floor(u()/1e3).toString()]),p(s,i)};C(ve,s=>{u()!==null&&s(Ne)})}var Zt=c(ve,2);Mt(Zt);var zt=c(Zt,2);ft(zt,5,()=>{var s;return Object.entries(((s=A())==null?void 0:s.statusMap)??{})},mt,(s,i)=>{let a=()=>f(i)[0],j=()=>f(i)[1];var P=pe(),G=wt(P);{var D=y=>{var N=yn(),H={};k(()=>{H!==(H=a())&&(N.value=(N.__value=a())==null?"":a())}),p(y,N)};C(G,y=>{j()===ee.ALIVE&&y(D)})}p(s,P)}),r(zt);var Gt=c(zt,2);Gt.__click=[In,T,bt];var je=o(Gt);J(je,"icon","mdi:send"),r(Gt),r(Kt);var ke=c(Kt,2);r(de),r(re),r(rt),k(s=>{var i,a;Dt(Ot,"style",`width: ${f(w)??""}%`),h(ye,`${((i=A())==null?void 0:i.agent)??"未接続"} ${tt()??""}`),h(Te,s),Dt(Ct,"style",`width: ${100-f(w)-.5}%;`),$t(ke,u()!==null?u()/(((a=v())==null?void 0:a.actionTimeout)??6e4)*100:0)},[()=>JSON.stringify(v(),null,2)]),Me(Zt,T,s=>xe(bt,s)),p(t,rt),ge(),d()}be(["mousedown","touchstart","click"]);export{Pn as component};
