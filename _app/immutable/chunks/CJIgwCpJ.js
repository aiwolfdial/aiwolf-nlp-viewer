import"./DsnmJJEf.js";import{d as y,o as S}from"./BDXqH1NL.js";import{aq as h,ap as p,aV as A,aW as L,aX as N,G as u,N as b,aE as w,k as E,aY as k,aZ as I,a_ as M,a$ as O,p as T,j,f as V,d as G,t as P,b as R,c as C,b0 as U,b1 as x,r as z,e as D}from"./C_pIWTxR.js";import{a as J}from"./DCOaxCy4.js";const K=Symbol("is custom element"),$=Symbol("is html");function q(e){if(u){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;l(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;l(e,"checked",null),e.checked=s}}};e.__on_r=a,I(a),M()}}function se(e,t){var a=_(e);a.value===(a.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function B(e,t){var a=_(e);a.checked!==(a.checked=t??void 0)&&(e.checked=t)}function l(e,t,a,r){var s=_(e);u&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=a)&&(t==="loading"&&(e[A]=a),a==null?e.removeAttribute(t):typeof a!="string"&&m(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function re(e,t,a){var r=w,s=E;let n=u;u&&b(!1),h(null),p(null);try{t!=="style"&&(d.has(e.getAttribute("is")||e.nodeName)||!customElements||customElements.get(e.getAttribute("is")||e.tagName.toLowerCase())?m(e).includes(t):a&&typeof a=="object")?e[t]=a:l(e,t,a==null?a:String(a))}finally{h(r),p(s),n&&b(!0)}}function _(e){return e.__attributes??={[K]:e.nodeName.includes("-"),[$]:e.namespaceURI===N}}var d=new Map;function m(e){var t=e.getAttribute("is")||e.nodeName,a=d.get(t);if(a)return a;d.set(t,a=[]);for(var r,s=e,n=Element.prototype;n!==s;){r=k(s);for(var i in r)r[i].set&&a.push(i);s=L(s)}return a}function H(e){const{storageKey:t,defaultValue:a,serialize:r,deserialize:s,validate:n}=e;function i(){const o=localStorage.getItem(t);if(!o)return f(a),a;try{const c=s?s(o):JSON.parse(o);if(n&&!n(c))throw new Error("Invalid stored value");return c}catch(c){return console.error(`Failed to parse ${t}:`,c),f(a),a}}function f(o){{const c=r?r(o):JSON.stringify(o);localStorage.setItem(t,c)}}const v=O(i());return v.subscribe(f),v}const Y=["ja","en"];function F(e){return typeof e=="string"&&Y.includes(e)}function W(){return"ja"}const g=H({storageKey:"language",defaultValue:W(),validate:F});g.subscribe(e=>{J.set(e)});function X(e){const a=e.target.checked?"en":"ja";g.set(a)}var Z=V('<label class="btn swap"><input type="checkbox"/> <div class="swap-on">EN</div> <div class="swap-off">JA</div></label>');function ne(e,t){T(t,!0);let a=U("ja");const r=g.subscribe(i=>{j(a,i,!0)});S(()=>{r()});var s=Z(),n=G(s);q(n),n.__change=[X],x(4),z(s),P(()=>B(n,D(a)==="en")),R(e,s),C()}y(["change"]);export{ne as L,re as a,se as b,H as c,B as d,q as r,l as s};
