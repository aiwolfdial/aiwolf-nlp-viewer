import{ap as v,aq as f,ar as s,R as d,e as l}from"./BgVlIibR.js";import{b as p}from"./IJDf9Saa.js";import{i as b}from"./DR9iGoyE.js";function m(e){var t=s,r=d;v(null),f(null);try{return e()}finally{v(t),f(r)}}function y(e,t,r,i=r){e.addEventListener(t,()=>m(r));const a=e.__on_r;a?e.__on_r=()=>{a(),i(!0)}:e.__on_r=()=>i(!0),p()}function c(e,t,r){if(e.multiple)return h(e,t);for(var i of e.options){var a=u(i);if(b(a,t)){i.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function q(e,t){l(()=>{var r=new MutationObserver(()=>{var i=e.__value;c(e,i)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function k(e,t,r=t){var i=!0;y(e,"change",a=>{var n=a?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(n),u);else{var _=e.querySelector(n)??e.querySelector("option:not([disabled])");o=_&&u(_)}r(o)}),l(()=>{var a=t();if(c(e,a,i),i&&a===void 0){var n=e.querySelector(":checked");n!==null&&(a=u(n),r(a))}e.__value=a,i=!1}),q(e)}function h(e,t){for(var r of e.options)r.selected=~t.indexOf(u(r))}function u(e){return"__value"in e?e.__value:e.value}export{k as b,y as l};
