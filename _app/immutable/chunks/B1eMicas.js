import{ag as L,T as q,g as _,ah as B,d as N,ai as M,aa as Y,o as T,u as D,S as C,aj as $,ak as w,al as x,am as G,C as j,an as z,ao as V,ap as Z,aq as F,ar as H,as as J}from"./heac-MY7.js";import{p as K}from"./BYmUdosK.js";import{s as Q,g as W}from"./Dn7NCLaY.js";let o=!1,E=Symbol();function ae(e,r,u){const n=u[r]??(u[r]={store:null,source:q(void 0),unsubscribe:L});if(n.store!==e&&!(E in u))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=L;else{var v=!0;n.unsubscribe=Q(e,i=>{v?n.source.v=i:N(n.source,i)}),v=!1}return e&&E in u?W(e):_(n.source)}function ne(e,r){return e.set(r),r}function ue(){const e={};function r(){B(()=>{for(var u in e)e[u].unsubscribe();M(e,E,{enumerable:!1,value:!0})})}return[e,r]}function X(e){var r=o;try{return o=!1,[e(),o]}finally{o=r}}function ie(e,r,u,n){var p;var v=(u&J)!==0,i=!F||(u&H)!==0,b=(u&w)!==0,U=(u&Z)!==0,O=!1,t;b?[t,O]=X(()=>e[r]):t=e[r];var h=C in e||$ in e,d=b&&(((p=Y(e,r))==null?void 0:p.set)??(h&&r in e&&(a=>e[r]=a)))||void 0,s=n,S=!0,P=!1,R=()=>(P=!0,S&&(S=!1,U?s=D(n):s=n),s);t===void 0&&n!==void 0&&(d&&i&&x(),t=R(),d&&d(t));var f;if(i)f=()=>{var a=e[r];return a===void 0?R():(S=!0,P=!1,a)};else{var A=(v?T:j)(()=>e[r]);A.f|=G,f=()=>{var a=_(A);return a!==void 0&&(s=void 0),a===void 0?s:a}}if((u&z)===0)return f;if(d){var y=e.$$legacy;return function(a,l){return arguments.length>0?((!i||!l||y||O)&&d(l?f():a),a):f()}}var g=!1,I=q(t),c=T(()=>{var a=f(),l=_(I);return g?(g=!1,l):I.v=a});return v||(c.equals=V),function(a,l){if(arguments.length>0){const m=l?_(c):i&&b?K(a):a;return c.equals(m)||(g=!0,N(I,m),P&&s!==void 0&&(s=m),D(()=>_(c))),a}return _(c)}}export{ue as a,ne as b,ie as p,ae as s};
