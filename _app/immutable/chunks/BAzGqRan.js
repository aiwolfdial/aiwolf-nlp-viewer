import"./DsnmJJEf.js";import{a as y,d as S,o as N}from"./ZvrJVx00.js";import{an as h,am as p,aA as L,aB as w,aC as E,G as i,N as m,aD as A,k,aE as I,aF as M,aG as O,p as T,j,f as G,d as C,t as P,b as R,c as V,aH as D,aI as U,r as x,e as z}from"./DO4nmVCp.js";import{a as B}from"./IkSv0N2d.js";const H=Symbol("is custom element"),J=Symbol("is html");function K(e){if(i){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;l(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;l(e,"checked",null),e.checked=s}}};e.__on_r=t,M(t),y()}}function se(e,a){var t=_(e);t.value===(t.value=a??void 0)||e.value===a&&(a!==0||e.nodeName!=="PROGRESS")||(e.value=a??"")}function F(e,a){var t=_(e);t.checked!==(t.checked=a??void 0)&&(e.checked=a)}function l(e,a,t,r){var s=_(e);i&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=t)&&(a==="loading"&&(e[L]=t),t==null?e.removeAttribute(a):typeof t!="string"&&b(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function re(e,a,t){var r=A,s=k;let n=i;i&&m(!1),h(null),p(null);try{a!=="style"&&(d.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?b(e).includes(a):t&&typeof t=="object")?e[a]=t:l(e,a,t==null?t:String(t))}finally{h(r),p(s),n&&m(!0)}}function _(e){return e.__attributes??={[H]:e.nodeName.includes("-"),[J]:e.namespaceURI===E}}var d=new Map;function b(e){var a=d.get(e.nodeName);if(a)return a;d.set(e.nodeName,a=[]);for(var t,r=e,s=Element.prototype;s!==r;){t=I(r);for(var n in t)t[n].set&&a.push(n);r=w(r)}return a}function $(e){const{storageKey:a,defaultValue:t,serialize:r,deserialize:s,validate:n}=e;function u(){const o=localStorage.getItem(a);if(!o)return f(t),t;try{const c=s?s(o):JSON.parse(o);if(n&&!n(c))throw new Error("Invalid stored value");return c}catch(c){return console.error(`Failed to parse ${a}:`,c),f(t),t}}function f(o){{const c=r?r(o):JSON.stringify(o);localStorage.setItem(a,c)}}const v=O(u());return v.subscribe(f),v}const q=["ja","en"];function Y(e){return typeof e=="string"&&q.includes(e)}function Q(){return"ja"}const g=$({storageKey:"language",defaultValue:Q(),validate:Y});g.subscribe(e=>{B.set(e)});function W(e){const t=e.target.checked?"en":"ja";g.set(t)}var X=G('<label class="btn swap"><input type="checkbox"/> <div class="swap-on">EN</div> <div class="swap-off">JA</div></label>');function ne(e,a){T(a,!0);let t=D("ja");const r=g.subscribe(u=>{j(t,u,!0)});N(()=>{r()});var s=X(),n=C(s);K(n),n.__change=[W],U(4),x(s),P(()=>F(n,z(t)==="en")),R(e,s),V()}S(["change"]);export{ne as L,re as a,se as b,$ as c,F as d,K as r,l as s};
